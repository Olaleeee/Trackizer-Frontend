"use strict";(self.webpackChunktrackizer=self.webpackChunktrackizer||[]).push([[410,443,682,712],{106:(e,t,a)=>{a.d(t,{$5:()=>i,BD:()=>d,Nj:()=>w,P1:()=>b,Pm:()=>r,S6:()=>o,Uc:()=>_,deleteSub:()=>h,getCats:()=>f,getDBSubOverview:()=>v,getSubDetails:()=>y,getSubs:()=>g,hZ:()=>u,jp:()=>c,state:()=>n,updateSub:()=>m,updateUserSettings:()=>S,xw:()=>p});var s=a(190);const n={pageRoutes:["/","/welcome","/profile","/auth/signin","/auth/signup","/auth/forgot-password","/auth/confirm-password","/auth/reset-password"],sectionRoutes:["/dashboard","/budget","/calender","/card"],publicRoutes:["/auth/signup","/","/auth/signin","/welcome","/auth/forgot-password","/auth/confirm-password","/auth/reset-password"],app:{isFirstLoad:!0},page:{},section:{isParentCreated:!1},currentRoute:"",visitedRoutes:[],reqOptions:{},subscriptions:{},budget:{}},i=(0,s.V)(async function(e){n.reqOptions={formData:e};const t=await(0,s.d)("/auth","/signup",n.reqOptions),{data:a}=await t;n.user=a.user,n.accessToken=a.accessToken}),r=(0,s.V)(async function(e){n.reqOptions={formData:e,credentials:"include"};const t=await(0,s.d)("/auth","/signin",n.reqOptions),{data:a}=await t;n.user=a.user,n.accessToken=a.accessToken}),o=(0,s.V)(async function(){n.reqOptions={authorization:`Bearer ${n.accessToken}`,credentials:"include"},await(0,s.d)("/auth","/signout",n.reqOptions)}),l=(0,s.V)(async function(){n.reqOptions={credentials:"include"};const e=await(0,s.d)("/auth","/refresh",n.reqOptions),{data:t}=await e;n.accessToken=t.accessToken}),c=(0,s.V)(async function(){n.accessToken||await l(),n.reqOptions={authorization:`Bearer ${n.accessToken}`,method:"GET"};const e=await(0,s.d)("/auth","/me",n.reqOptions),{data:t}=await e;n.user=t.user,console.log(n.user)}),d=(0,s.V)(async function(e){n.reqOptions={formData:e};const t=await(0,s.d)("/auth","/forgot-password",n.reqOptions),{data:a}=await t;n.passwordResetCode=a.passwordResetCode,alert("demo only!: use this code: "+n.passwordResetCode)}),u=(0,s.V)(async function(e){n.reqOptions={formData:{email:localStorage.getItem("email")}};const t=await(0,s.d)("/auth",`/confirm-reset-code/${e}`,n.reqOptions),{message:a}=await t}),p=(0,s.V)(async function(e){n.reqOptions={formData:{...e,email:localStorage.getItem("email")}};const t=await(0,s.d)("/auth","/reset-password",n.reqOptions),{message:a}=await t;alert(a)}),b=(0,s.V)(async function(e){n.reqOptions={formData:e,authorization:`Bearer ${n.accessToken}`};const t=await(0,s.d)("/subscriptions","/",n.reqOptions),{data:a}=await t.data;n.subscriptions.newSub=a}),m=(0,s.V)(async function(e,t=!0){n.reqOptions={method:"PATCH",authorization:`Bearer ${n.accessToken}`,formData:{isBilled:t}},console.log(e);const a=await(0,s.d)("/subscriptions",`/${e}`,n.reqOptions),{data:i}=await a.data;n.subscriptions.subDetails=i}),h=(0,s.V)(async function(e){n.reqOptions={method:"DELETE",authorization:`Bearer ${n.accessToken}`},console.log(e),await(0,s.d)("/subscriptions",`/${e}`,n.reqOptions)}),g=(0,s.V)(async function(){n.reqOptions={method:"GET",authorization:`Bearer ${n.accessToken}`};const e=await(0,s.d)("/subscriptions","/",n.reqOptions),{data:t}=await e.data;n.subscriptions.allSubs=t,n.subscriptions.nextBillingDates=t.map(e=>e.nextBillingDate)}),v=(0,s.V)(async function(){n.reqOptions={method:"GET",authorization:`Bearer ${n.accessToken}`};const e=await(0,s.d)("/subscriptions","/overview",n.reqOptions),{data:t}=await e.data;n.subscriptions.DBSubOverview=t[0]}),y=(0,s.V)(async function(e){n.reqOptions={method:"GET",authorization:`Bearer ${n.accessToken}`};const t=await(0,s.d)("/subscriptions",`/${e}`,n.reqOptions),{data:a}=await t.data;n.subscriptions.subDetails=a}),w=(0,s.V)(async function(e){n.reqOptions={formData:e,authorization:`Bearer ${n.accessToken}`};const t=await(0,s.d)("/categories","/",n.reqOptions),{data:a}=await t.data;n.subscriptions.category=a}),f=(0,s.V)(async function(){n.reqOptions={method:"GET",authorization:`Bearer ${n.accessToken}`};const e=await(0,s.d)("/categories","/",n.reqOptions),{data:t}=await e.data;n.subscriptions.category=t}),_=((0,s.V)(async function(e,t){n.reqOptions={method:"PATCH",authorization:`Bearer ${n.accessToken}`,formData:t};const a=await(0,s.d)("/categories",`/${e}`,n.reqOptions),{data:i}=await a.data;n.user=i}),(0,s.V)(async function(e){n.reqOptions={method:"PATCH",authorization:`Bearer ${n.accessToken}`};const[t,a]=e;console.log(e,t,a);const i=await(0,s.d)("/categories",`/${t}/new-sub/${a}`,n.reqOptions),{data:r}=await i.data;n.user=r})),S=(0,s.V)(async function(e){n.reqOptions={method:"PATCH",authorization:`Bearer ${n.accessToken}`,formData:e};const t=await(0,s.d)("/users","/updateSettings",n.reqOptions),{data:a}=await t.data;n.user=a})},190:(e,t,a)=>{a.d(t,{V:()=>r,checkRouteAccess:()=>l,checkUpdateState:()=>i,d:()=>o,getUpcomgingBill:()=>c,updateDashboard:()=>d});var s=a(106),n=a(509);const i=function(e,t){history.pushState(t,"",e),e.includes("forgot")&&history.replaceState(t,"",e)},r=function(e){return t=>e(t||void 0).catch(e=>{throw console.log(e),e})},o=async function(e,t,s){try{const{BASE_PATH:n,API_VERSION:i}=await a.e(373).then(a.bind(a,373)),r=await fetch(`https://trackizer-backend.onrender.com${n}${i}${e}${t}`,{method:s?.method||"POST",headers:{"Content-Type":"application/json",authorization:s?.authorization||void 0},body:s?.formData?JSON.stringify(s?.formData):void 0,credentials:"include"});if(console.log(r),504==r.status)throw{status:"NetErr",message:"Network error"};if(404===r.status)throw{status:r.status,message:r.statusText};if(!r.ok){let e=await r.json();throw e.statusCode=r.status,e}return await r.json()}catch(e){throw console.log(e),e}},l=async(e,t)=>{if(!e.publicRoutes.includes(t)&&!e.user)try{if(await s.jp(),!e.user)return history.replaceState({},"","auth/signin"),location.reload()}catch(e){if(401===e.statusCode)return setTimeout(()=>{location.replace("/auth/signin")},3e3),n.A.renderError(e,{},!0);if("NetErr"===e.status)return history.replaceState({},"","auth/signin"),location.reload();n.A.renderError(e,{action:"Reload"})}},c=async e=>e.filter(e=>new Date(e.nextBillingDate).getMonth()===(new Date).getMonth()&&new Date(e.nextBillingDate).getFullYear()===(new Date).getFullYear()),d=async()=>{const{default:e}=await a.e(682).then(a.bind(a,682));await s.getSubs(),e.updateSub(s.state.subscriptions.allSubs);const t=await c(s.state.subscriptions.allSubs);console.log(t),e.updateBills(t),await s.getDBSubOverview(),e.updateOverview(s.state.subscriptions?.DBSubOverview)}},425:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(341);class n extends s.A{async renderContainerElm(){this.app.innerHTML=await this._generateMarkup("app-layout"),document.querySelector(".app-main").innerHTML='<div class="pre-loader"></div>'}async renderSection(e){this.parentEl.querySelector(".app-main").innerHTML=await this._generateMarkup(e)}get parentEl(){return document.querySelector(".app-layout")}}},682:(e,t,a)=>{a.d(t,{default:()=>i});var s=a(425);class n extends s.A{isSubAvailable=!1;toggleSubBillList(e){"toggle-sub-bill-list"!==!e.getAttribute("data-action")&&("subscriptions"===e.getAttribute("for")&&(this.parentEl.querySelector(".bill-list").style.display="none",e.classList.remove("not-active"),e.classList.add("btn-grey-8"),this.parentEl.querySelector(".sub-list").style.display="flex",this.app.querySelector(".btn-bill").classList.add("not-active"),this.app.querySelector(".btn-bill").classList.remove("btn-grey-8")),"bills"===e.getAttribute("for")&&(this.parentEl.querySelector(".sub-list").style.display="none",e.classList.remove("not-active"),e.classList.add("btn-grey-8"),this.parentEl.querySelector(".bill-list").style.display="flex",this.app.querySelector(".btn-sub").classList.add("not-active"),this.app.querySelector(".btn-sub").classList.remove("btn-grey-8")))}updateSub(e){const t=document.querySelector(".sub-list");if(this.isSubAvailable=e.length>0,!this.isSubAvailable&&t)return t.innerHTML='<p \n  class="paragraph sub-default" \n  style="\n    color: #6b7280;\n    text-align: center;\n    margin: 1rem 0;\n  "\n>\n  No subs yet :)\n</p>\n\n';t&&(t.innerHTML=e.map(e=>`<a class="sub-item" data-id="${e._id}"\n          ><i class="btn__select-category">⚡</i><img src="./assets/Spotify Logo.png" alt="sub logo" />\n          <p class="paragraph sub-title">${e.name}</p>\n          <p class="paragraph sub-price">$${e.amount}</p></a>`).join(""))}async renderNewSub(e){const t=this.app.querySelector(".sub-list");this.isSubAvailable=e.length>0,this.isSubAvailable||document.querySelectorAll(".sub-default").forEach(e=>e.style.display="none");const a=` <a class="sub-item" data-id="${e._id}"\n    ><i class="btn__select-category">⚡</i><img src="./assets/Spotify Logo.png" alt="sub logo" />\n    <p class="paragraph sub-title">${e.name}</p>\n    <p class="paragraph sub-price">$${e.amount}</p></a\n  >`;await new Promise(e=>{setTimeout(()=>{t&&t.insertAdjacentHTML("afterbegin",a),e()},300)})}updateBills(e){console.log(e);const t=this.app.querySelector(".bill-list"),a=e.filter(e=>!e.isBilled).map(e=>`<a class="bill-item"\n        ><div class="bill-date">\n          <p class="paragraph bill-month">${new Date(e.nextBillingDate).toLocaleString("default",{month:"long"})}</p>\n          <p class="paragraph bill-day">${new Date(e.nextBillingDate).toLocaleString("default",{weekday:"short"})}</p>\n        </div>\n        <p class="paragraph bill-title">${e.name}</p>\n        <p class="paragraph bill-price">$${e.amount}</p></a\n      >`).join("");t.innerHTML=a}updateOverview(e){const t=(new Date).getDate(),a=Math.round(t/30*100/100*283),s=document.querySelector("#progress");s.style.strokeDashoffset=""+(283-+a),s.style.transition="2s";const n=this.app.querySelector(".progress-text");n.querySelector(".total-billed").innerHTML=this.formatCurrency(e?.billedAmt||0),n.querySelector(".month").innerHTML=(new Date).toLocaleString("en-US",{month:"long"}),this.app.querySelector(".sub-overview").innerHTML=`<div class="active-sub sub-overview-item">\n            <h5 class="heading-5">Total Sub</h5>\n            <p class="paragraph price">\n             ${this.formatCurrency(e?.totalAmt||0)} <span class="paragraph count">(${e?.totalSubs||0})</span>\n            </p>\n          </div>\n          <div class="billed-sub sub-overview-item">\n            <h5 class="heading-5">Billed Sub</h5>\n            <p class="paragraph price">\n              ${this.formatCurrency(e?.billedAmt||0)} <span class="paragraph count">(${e?.billedCount||0})</span>\n            </p>\n          </div>\n          <div class="unbilled-sub sub-overview-item">\n            <h5 class="heading-5">Unbilled Sub</h5>\n            <p class="paragraph price">\n              ${this.formatCurrency(e?.unbilledAmt||0)} <span class="paragraph count">(${e?.unbilledCount||0})</span>\n            </p>\n          </div>`}}const i=new n},712:(e,t,a)=>{a.d(t,{default:()=>i});var s=a(341);class n extends s.A{_newRoute;addHandlerLoad(e){window.addEventListener("load",()=>e())}addHandlerPopState(e){window.addEventListener("popstate",()=>{e()})}addHandlerInput(e){document.body.addEventListener("input",t=>{e(t)})}addHandlerFocusOut(e){document.body.addEventListener("focusout",t=>{e(t)})}addHandlerSubmit(e){document.body.addEventListener("submit",t=>{e(t)})}addHandlerClick(e){document.body.addEventListener("click",t=>{e(t)})}async renderNewSub(){const e=await this._generateMarkup("new-subscription"),t=document.createElement("div");t.classList.add("overlay"),t.innerHTML=e,history.pushState({},"","/new-subscription"),this.parentEl.classList.add("overlay-elm"),await new Promise((e,t)=>{setTimeout(()=>{e()},300)}),this.parentEl.insertAdjacentElement("afterbegin",t),this.parentEl.querySelector(".close").addEventListener("click",async()=>{history.back(),await new Promise((e,t)=>{setTimeout(()=>{e()},300)}),this.parentEl.classList.remove("overlay-elm")})}renderConfirm(e,t){const a=document.createElement("div");this.renderOverlayElm(a),a.classList.add("confirmation"),a.innerHTML=`\n        <p class="paragraph mb-sm">${e||"Continue this action ?"}</p>\n        <a class="btn btn-grey-8 btn-stop">No</a>\n        <a class="btn btn-orange btn-continue signout" data-type="${t}">Yes</a>\n      `,a.querySelector(".btn").addEventListener("click",()=>this.closeOverlayElm("confirmation"))}renderSubDetails(e){const t=document.createElement("div");this.renderOverlayElm(t),t.classList.add("sub-details"),t.setAttribute("data-id",`${e._id}`),t.innerHTML=` \n        \x3c!-- Header with logo and status --\x3e\n        <div class="sub-details__header" data-id=>\n          <div class="action">\n            <span class="close">✖</span>\n            <span class="btn-delete-sub">Delete</span> \n          </div>\n            <div class="sub-details__logo">${e.name}</div>\n            <span class="sub-details__status">Status: ${e.status}</span>\n            <h1 class="sub-details__title">${e.description}</h1>\n            <p class="sub-details__subscription">Subscription on every ${new Date(e.startDate).getDate()}rd</p>\n            <div class="sub-details__category">${e.category||"NA"}</div>\n        </div>\n\n        \x3c!-- Payment information --\x3e\n        <div class="sub-details__payment">\n            <p class="sub-details__payment-label">Next Payment</p>\n            <div class="sub-details__amount">-$${e.amount}</div>\n            <p class="sub-details__due-date">\n                Expected around <a href="#">$${e.nextBillingDate}</a>\n            </p>\n        </div>\n\n        \x3c!-- Timeline visualization --\x3e\n        <div class="sub-details__timeline">\n            \x3c!-- Progress track --\x3e\n            <div class="sub-details__timeline-track">\n                <div class="sub-details__timeline-progress"></div>\n            </div>\n            \n            \x3c!-- Timeline points --\x3e\n            <div class="sub-details__timeline-points">\n                <div class="sub-details__timeline-point"></div>\n                <div class="sub-details__timeline-point"></div>\n                <div class="sub-details__timeline-point"></div>\n                <div class="sub-details__timeline-point--current sub-details__timeline-point"></div>\n                <div class="sub-details__timeline-point--inactive sub-details__timeline-point"></div>\n            </div>\n\n            \x3c!-- Timeline labels --\x3e\n            <div class="sub-details__timeline-labels">\n                <div class="sub-details__timeline-label">\n                    <div class="sub-details__timeline-label--month">Oct</div>\n                    <div class="sub-details__timeline-label--year">2023</div>\n                </div>\n                <div class="sub-details__timeline-label">\n                    <div class="sub-details__timeline-label--month">Nov</div>\n                    <div class="sub-details__timeline-label--year">2023</div>\n                </div>\n                <div class="sub-details__timeline-label">\n                    <div class="sub-details__timeline-label--month">Dec</div>\n                    <div class="sub-details__timeline-label--year">2023</div>\n                </div>\n                <div class="sub-details__timeline-label">\n                    <div class="sub-details__timeline-label--month">Jan</div>\n                    <div class="sub-details__timeline-label--year">2024</div>\n                </div>\n                <div class="sub-details__timeline-label">\n                    <div class="sub-details__timeline-label--month">Feb</div>\n                    <div class="sub-details__timeline-label--year">2024</div>\n                </div>\n            </div>\n            <div class="billing-status">\n              <span>Billed</span>\n              <input type="checkbox" name="billingStatus" id="billingStatus"  />\n            </div>\n        </div>`,document.querySelector(".billing-status").style.pointerEvents=e.isBilled?"none":"unset",document.querySelector("#billingStatus").checked=e.isBilled?"checked":"",document.querySelector(".close").addEventListener("click",e=>{this.closeOverlayElm("sub-details")})}renderCategoryDropdown(e){const t=this.app.querySelector(".btn__select-category")?.closest(".sub-item").dataset?.id,a=`<div class="category-dropdown">\n                    <h4 class="heading-4 heading-4--light">Select Category</h4>\n                    <ul class="category-list">\n                      ${e.map(e=>`<li data-id='${e._id}' class="${e.subscriptions.includes(t)?"current-category":""}">${e.name}</li>`).join("")}\n                    </ul>\n                    <a>Add new Category</a>\n                  </div>\n    `;this.app.querySelector(".btn__select-category").closest(".sub-item").insertAdjacentHTML("afterbegin",a)}}const i=new n},911:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(425);class n extends s.A{isCatAvailable=!1;async updateOverview(e,t){const[a,s]=Array.from(this.sectionEl.querySelector(".summary").children);console.log(e,t),a.textContent=this.formatCurrency(+e||0),s.querySelector("span").textContent=this.formatCurrency(+t||0)}async renderNewCategory(e){const t=this.app.querySelector(".category-list"),a=` \n           <div class="category-item">\n              <div class="icon">AU <br />TO</div>\n              <p class="name">${e?.name}</p>\n              <p class="description">${e.description}</p>\n              <i class='num-sub'>${e.subscriptions.length} subs added</i>\n            </div>\n    `;setTimeout(()=>{t.insertAdjacentHTML("afterbegin",a)},300),location.reload()}async renderAllCategory(e){e&&e.reverse();const t=this.app.querySelector(".category-list");t&&t.insertAdjacentHTML("beforeend",`<div class="cat-default" style="display: ${e||e.length>0?"block":"none"}">\n      <p class="paragraph">No Category Yet :)</p>\n    </div>\n        `),e&&0!==e.length&&(t.innerHTML=e.map(e=>`<div class="category-item">\n              <div class="icon">AU <br />TO</div>\n              <p class="name">${e?.name}</p>\n              <p class="description">${e.description}</p>\n              <i class='num-sub'>${e.subscriptions.length} subs added</i>\n            </div>\n          `).join(""))}get sectionEl(){return document.querySelector(".budget")}}const i=new n}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxVQUNiLE1BQU1GLEVBQWE5RixLQUFLOUcsSUFBSWtILGNBQWMsa0JBRTFDMEYsR0FDRUEsRUFBV2pFLG1CQUNULFlBQ0EsNENBQTRDN0gsR0FBUUEsRUFBS2tILE9BQVMsRUFBSSxRQUFVLHFGQU0vRWxILEdBQXdCLElBQWhCQSxFQUFLa0gsU0FFbEI0RSxFQUFXN0YsVUFBWWpHLEVBQ3BCZ0MsSUFBS21GLEdBQ0csaUhBRWlCQSxHQUFLRSxrREFDRUYsRUFBSXlELHFEQUNSekQsRUFBSXpILGNBQWN3SCx5REFJOUNLLEtBQUssSUFDVixDQUVBLGFBQUltRSxHQUNGLE9BQU92RixTQUFTQyxjQUFjLFVBQ2hDLEVBR0YsWUFBbUIrRSxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHJhY2tpemVyLy4vcHVibGljL3NjcmlwdC9tb2RlbC5qcyIsIndlYnBhY2s6Ly90cmFja2l6ZXIvLi9wdWJsaWMvc2NyaXB0L2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vdHJhY2tpemVyLy4vcHVibGljL3NjcmlwdC92aWV3cy9zZWN0aW9ucy9zZWN0aW9uVmlldy5qcyIsIndlYnBhY2s6Ly90cmFja2l6ZXIvLi9wdWJsaWMvc2NyaXB0L3ZpZXdzL3NlY3Rpb25zL2Rhc2hib2FyZFZpZXcuanMiLCJ3ZWJwYWNrOi8vdHJhY2tpemVyLy4vcHVibGljL3NjcmlwdC92aWV3cy9hcHBWaWV3LmpzIiwid2VicGFjazovL3RyYWNraXplci8uL3B1YmxpYy9zY3JpcHQvdmlld3Mvc2VjdGlvbnMvYnVkZ2V0Vmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBSkFYLCBjYXRjaFRocm93RXJyIH0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbmV4cG9ydCBjb25zdCBzdGF0ZSA9IHtcclxuICBwYWdlUm91dGVzOiBbXHJcbiAgICAnLycsXHJcbiAgICAnL3dlbGNvbWUnLFxyXG4gICAgJy9wcm9maWxlJyxcclxuICAgICcvYXV0aC9zaWduaW4nLFxyXG4gICAgJy9hdXRoL3NpZ251cCcsXHJcbiAgICAnL2F1dGgvZm9yZ290LXBhc3N3b3JkJyxcclxuICAgICcvYXV0aC9jb25maXJtLXBhc3N3b3JkJyxcclxuICAgICcvYXV0aC9yZXNldC1wYXNzd29yZCcsXHJcbiAgXSxcclxuICBzZWN0aW9uUm91dGVzOiBbJy9kYXNoYm9hcmQnLCAnL2J1ZGdldCcsICcvY2FsZW5kZXInLCAnL2NhcmQnXSxcclxuICBwdWJsaWNSb3V0ZXM6IFtcclxuICAgICcvYXV0aC9zaWdudXAnLFxyXG4gICAgJy8nLFxyXG4gICAgJy9hdXRoL3NpZ25pbicsXHJcbiAgICAnL3dlbGNvbWUnLFxyXG4gICAgJy9hdXRoL2ZvcmdvdC1wYXNzd29yZCcsXHJcbiAgICAnL2F1dGgvY29uZmlybS1wYXNzd29yZCcsXHJcbiAgICAnL2F1dGgvcmVzZXQtcGFzc3dvcmQnLFxyXG4gIF0sXHJcbiAgYXBwOiB7XHJcbiAgICBpc0ZpcnN0TG9hZDogdHJ1ZSxcclxuICB9LFxyXG4gIHBhZ2U6IHt9LFxyXG4gIHNlY3Rpb246IHtcclxuICAgIGlzUGFyZW50Q3JlYXRlZDogZmFsc2UsXHJcbiAgfSxcclxuICBjdXJyZW50Um91dGU6ICcnLFxyXG4gIHZpc2l0ZWRSb3V0ZXM6IFtdLFxyXG4gIHJlcU9wdGlvbnM6IHt9LFxyXG4gIHN1YnNjcmlwdGlvbnM6IHt9LFxyXG4gIGJ1ZGdldDoge30sXHJcbn07XHJcblxyXG4vL0NyZWF0ZSBOZXcgVXNlciBBY2NvdW50XHJcbmV4cG9ydCBjb25zdCBzaWdudXAgPSBjYXRjaFRocm93RXJyKGFzeW5jIGZ1bmN0aW9uIChmb3JtRGF0YSkge1xyXG4gIHN0YXRlLnJlcU9wdGlvbnMgPSB7XHJcbiAgICBmb3JtRGF0YTogZm9ybURhdGEsXHJcbiAgICAvLyBjcmVkZW50aWFsczogXCJpbmNsdWRlXCIsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVzQm9keSA9IGF3YWl0IEFKQVgoJy9hdXRoJywgJy9zaWdudXAnLCBzdGF0ZS5yZXFPcHRpb25zKTtcclxuXHJcbiAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCByZXNCb2R5O1xyXG5cclxuICAvL0dpdmUgQWNjZXNzIFRva2VuIHRvIHRoZSBuZXdseSBjcmVhdGVkIGFjY291bnRcclxuICBzdGF0ZS51c2VyID0gZGF0YS51c2VyO1xyXG4gIHN0YXRlLmFjY2Vzc1Rva2VuID0gZGF0YS5hY2Nlc3NUb2tlbjtcclxufSk7XHJcblxyXG4vL1NpZ24gVXNlciBJblxyXG5leHBvcnQgY29uc3Qgc2lnbmluID0gY2F0Y2hUaHJvd0Vycihhc3luYyBmdW5jdGlvbiAoZm9ybURhdGEpIHtcclxuICBzdGF0ZS5yZXFPcHRpb25zID0ge1xyXG4gICAgZm9ybURhdGE6IGZvcm1EYXRhLFxyXG4gICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcclxuICB9O1xyXG4gIGNvbnN0IHJlc0JvZHkgPSBhd2FpdCBBSkFYKCcvYXV0aCcsICcvc2lnbmluJywgc3RhdGUucmVxT3B0aW9ucyk7XHJcbiAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCByZXNCb2R5O1xyXG5cclxuICAvL0dpdmUgQWNjZXNzIFRva2VuIHRvIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluIHVzZXJcclxuICBzdGF0ZS51c2VyID0gZGF0YS51c2VyO1xyXG4gIHN0YXRlLmFjY2Vzc1Rva2VuID0gZGF0YS5hY2Nlc3NUb2tlbjtcclxufSk7XHJcblxyXG4vL1NpZ24gdXNlciBvdXRcclxuZXhwb3J0IGNvbnN0IHNpZ25vdXQgPSBjYXRjaFRocm93RXJyKGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICBzdGF0ZS5yZXFPcHRpb25zID0ge1xyXG4gICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke3N0YXRlLmFjY2Vzc1Rva2VufWAsXHJcbiAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxyXG4gIH07XHJcblxyXG4gIGF3YWl0IEFKQVgoJy9hdXRoJywgJy9zaWdub3V0Jywgc3RhdGUucmVxT3B0aW9ucyk7XHJcbn0pO1xyXG5cclxuLy9HZXQgQWNjZXNzIFRva2VuIHRoYXQgbGl2ZXMgaW4gbWVtb3J5IGFuZCBkaXNhcHBlYXJzIG9uIHBhZ2UgcmVsb2FkXHJcbmNvbnN0IGdldEFjY2Vzc1Rva2VuID0gY2F0Y2hUaHJvd0Vycihhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgc3RhdGUucmVxT3B0aW9ucyA9IHtcclxuICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVzQm9keSA9IGF3YWl0IEFKQVgoJy9hdXRoJywgJy9yZWZyZXNoJywgc3RhdGUucmVxT3B0aW9ucyk7XHJcblxyXG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgcmVzQm9keTtcclxuICBzdGF0ZS5hY2Nlc3NUb2tlbiA9IGRhdGEuYWNjZXNzVG9rZW47XHJcbn0pO1xyXG5cclxuLy9nZXQgXCJzdGF0ZS51c2VyXCIgd2l0aCB0aGUgYWNjZXNzIFRva2VuLiBObyBBY2Nlc3MgVG9rZW4gbicgdXNlciBpcyBub3QgYWxsb3dlZCB0byBjb250aW51ZVxyXG5leHBvcnQgY29uc3QgZ2V0TWUgPSBjYXRjaFRocm93RXJyKGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICBpZiAoIXN0YXRlLmFjY2Vzc1Rva2VuKSB7XHJcbiAgICBhd2FpdCBnZXRBY2Nlc3NUb2tlbigpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGUucmVxT3B0aW9ucyA9IHtcclxuICAgIGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtzdGF0ZS5hY2Nlc3NUb2tlbn1gLFxyXG4gICAgbWV0aG9kOiAnR0VUJyxcclxuICB9O1xyXG5cclxuICBjb25zdCByZXNCb2R5ID0gYXdhaXQgQUpBWCgnL2F1dGgnLCAnL21lJywgc3RhdGUucmVxT3B0aW9ucyk7XHJcblxyXG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgcmVzQm9keTtcclxuICBzdGF0ZS51c2VyID0gZGF0YS51c2VyO1xyXG4gIGNvbnNvbGUubG9nKHN0YXRlLnVzZXIpO1xyXG59KTtcclxuXHJcbi8vU2VuZCB1c2VyIGVtYWlsIHRvIHNlcnZlciB0byBnZXQgdGhlIHBhc3N3b3JkIHJlc2V0IGNvZGVcclxuZXhwb3J0IGNvbnN0IGZvcmdvdFBhc3N3b3JkID0gY2F0Y2hUaHJvd0VycihcclxuICBhc3luYyBmdW5jdGlvbiAoZm9ybURhdGEpIHtcclxuICAgIHN0YXRlLnJlcU9wdGlvbnMgPSB7XHJcbiAgICAgIGZvcm1EYXRhLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IHJlc0JvZHkgPSBhd2FpdCBBSkFYKFxyXG4gICAgICAnL2F1dGgnLFxyXG4gICAgICAnL2ZvcmdvdC1wYXNzd29yZCcsXHJcbiAgICAgIHN0YXRlLnJlcU9wdGlvbnNcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCByZXNCb2R5O1xyXG4gICAgc3RhdGUucGFzc3dvcmRSZXNldENvZGUgPSBkYXRhLnBhc3N3b3JkUmVzZXRDb2RlO1xyXG4gICAgYWxlcnQoJ2RlbW8gb25seSE6IHVzZSB0aGlzIGNvZGU6ICcgKyBzdGF0ZS5wYXNzd29yZFJlc2V0Q29kZSk7XHJcbiAgfVxyXG4pO1xyXG5cclxuLy9TRU5EIFBBU1NXT1JEIFJFU0VUIENPREUgRk9SIFZBTElEQVRJT04gT04gVEhFIFNFUlZFUlxyXG5leHBvcnQgY29uc3QgY29uZmlybVJlc2V0Q29kZSA9IGNhdGNoVGhyb3dFcnIoYXN5bmMgZnVuY3Rpb24gKGNvZGUpIHtcclxuICBzdGF0ZS5yZXFPcHRpb25zID0ge1xyXG4gICAgZm9ybURhdGE6IHsgZW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpIH0sXHJcbiAgfTtcclxuICBjb25zdCByZXNCb2R5ID0gYXdhaXQgQUpBWChcclxuICAgICcvYXV0aCcsXHJcbiAgICBgL2NvbmZpcm0tcmVzZXQtY29kZS8ke2NvZGV9YCxcclxuICAgIHN0YXRlLnJlcU9wdGlvbnNcclxuICApO1xyXG5cclxuICBjb25zdCB7IG1lc3NhZ2UgfSA9IGF3YWl0IHJlc0JvZHk7XHJcbn0pO1xyXG5cclxuLy9DT05GSVJNIFBBU1NXT1JEIFJFU1QgQ09ERSBBTkQgQ1JFQVRFIE5FVyBVU0VSIFBBU1NXT1JEXHJcbmV4cG9ydCBjb25zdCByZXNldFBhc3N3b3JkID0gY2F0Y2hUaHJvd0Vycihhc3luYyBmdW5jdGlvbiAoZm9ybURhdGEpIHtcclxuICBzdGF0ZS5yZXFPcHRpb25zID0ge1xyXG4gICAgZm9ybURhdGE6IHsgLi4uZm9ybURhdGEsIGVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSB9LFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlc0JvZHkgPSBhd2FpdCBBSkFYKFxyXG4gICAgJy9hdXRoJyxcclxuICAgIGAvcmVzZXQtcGFzc3dvcmRgLFxyXG4gICAgc3RhdGUucmVxT3B0aW9uc1xyXG4gICk7XHJcblxyXG4gIGNvbnN0IHsgbWVzc2FnZSB9ID0gYXdhaXQgcmVzQm9keTtcclxuICBhbGVydChtZXNzYWdlKTtcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlU3ViID0gY2F0Y2hUaHJvd0Vycihhc3luYyBmdW5jdGlvbiAoZm9ybURhdGEpIHtcclxuICBzdGF0ZS5yZXFPcHRpb25zID0ge1xyXG4gICAgZm9ybURhdGEsXHJcbiAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7c3RhdGUuYWNjZXNzVG9rZW59YCxcclxuICB9O1xyXG5cclxuICBjb25zdCByZXNCb2R5ID0gYXdhaXQgQUpBWCgnL3N1YnNjcmlwdGlvbnMnLCBgL2AsIHN0YXRlLnJlcU9wdGlvbnMpO1xyXG5cclxuICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHJlc0JvZHkuZGF0YTtcclxuXHJcbiAgc3RhdGUuc3Vic2NyaXB0aW9ucy5uZXdTdWIgPSBkYXRhO1xyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVTdWIgPSBjYXRjaFRocm93RXJyKGFzeW5jIGZ1bmN0aW9uIChcclxuICBpZCxcclxuICBpc0JpbGxlZCA9IHRydWVcclxuKSB7XHJcbiAgc3RhdGUucmVxT3B0aW9ucyA9IHtcclxuICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgIGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtzdGF0ZS5hY2Nlc3NUb2tlbn1gLFxyXG4gICAgZm9ybURhdGE6IHsgaXNCaWxsZWQgfSxcclxuICB9O1xyXG5cclxuICBjb25zb2xlLmxvZyhpZCk7XHJcbiAgY29uc3QgcmVzQm9keSA9IGF3YWl0IEFKQVgoXHJcbiAgICAnL3N1YnNjcmlwdGlvbnMnLFxyXG4gICAgYC8ke2lkfWAsXHJcbiAgICBzdGF0ZS5yZXFPcHRpb25zXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCByZXNCb2R5LmRhdGE7XHJcbiAgc3RhdGUuc3Vic2NyaXB0aW9ucy5zdWJEZXRhaWxzID0gZGF0YTtcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgZGVsZXRlU3ViID0gY2F0Y2hUaHJvd0Vycihhc3luYyBmdW5jdGlvbiAoaWQpIHtcclxuICBzdGF0ZS5yZXFPcHRpb25zID0ge1xyXG4gICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgIGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtzdGF0ZS5hY2Nlc3NUb2tlbn1gLFxyXG4gIH07XHJcblxyXG4gIGNvbnNvbGUubG9nKGlkKTtcclxuICBjb25zdCByZXNCb2R5ID0gYXdhaXQgQUpBWChcclxuICAgICcvc3Vic2NyaXB0aW9ucycsXHJcbiAgICBgLyR7aWR9YCxcclxuICAgIHN0YXRlLnJlcU9wdGlvbnNcclxuICApO1xyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRTdWJzID0gY2F0Y2hUaHJvd0Vycihhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgc3RhdGUucmVxT3B0aW9ucyA9IHtcclxuICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7c3RhdGUuYWNjZXNzVG9rZW59YCxcclxuICB9O1xyXG5cclxuICBjb25zdCByZXNCb2R5ID0gYXdhaXQgQUpBWCgnL3N1YnNjcmlwdGlvbnMnLCBgL2AsIHN0YXRlLnJlcU9wdGlvbnMpO1xyXG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgcmVzQm9keS5kYXRhO1xyXG5cclxuICBzdGF0ZS5zdWJzY3JpcHRpb25zLmFsbFN1YnMgPSBkYXRhO1xyXG5cclxuICBzdGF0ZS5zdWJzY3JpcHRpb25zLm5leHRCaWxsaW5nRGF0ZXMgPSBkYXRhLm1hcChcclxuICAgIChzdWIpID0+IHN1Yi5uZXh0QmlsbGluZ0RhdGVcclxuICApO1xyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXREQlN1Yk92ZXJ2aWV3ID0gY2F0Y2hUaHJvd0Vycihhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgc3RhdGUucmVxT3B0aW9ucyA9IHtcclxuICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7c3RhdGUuYWNjZXNzVG9rZW59YCxcclxuICB9O1xyXG5cclxuICBjb25zdCByZXNCb2R5ID0gYXdhaXQgQUpBWChcclxuICAgICcvc3Vic2NyaXB0aW9ucycsXHJcbiAgICBgL292ZXJ2aWV3YCxcclxuICAgIHN0YXRlLnJlcU9wdGlvbnNcclxuICApO1xyXG5cclxuICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHJlc0JvZHkuZGF0YTtcclxuICBzdGF0ZS5zdWJzY3JpcHRpb25zLkRCU3ViT3ZlcnZpZXcgPSBkYXRhWzBdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRTdWJEZXRhaWxzID0gY2F0Y2hUaHJvd0Vycihhc3luYyBmdW5jdGlvbiAoaWQpIHtcclxuICBzdGF0ZS5yZXFPcHRpb25zID0ge1xyXG4gICAgbWV0aG9kOiAnR0VUJyxcclxuICAgIGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtzdGF0ZS5hY2Nlc3NUb2tlbn1gLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlc0JvZHkgPSBhd2FpdCBBSkFYKFxyXG4gICAgJy9zdWJzY3JpcHRpb25zJyxcclxuICAgIGAvJHtpZH1gLFxyXG4gICAgc3RhdGUucmVxT3B0aW9uc1xyXG4gICk7XHJcblxyXG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgcmVzQm9keS5kYXRhO1xyXG4gIHN0YXRlLnN1YnNjcmlwdGlvbnMuc3ViRGV0YWlscyA9IGRhdGE7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNhdCA9IGNhdGNoVGhyb3dFcnIoYXN5bmMgZnVuY3Rpb24gKGZvcm1EYXRhKSB7XHJcbiAgc3RhdGUucmVxT3B0aW9ucyA9IHtcclxuICAgIGZvcm1EYXRhLFxyXG4gICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke3N0YXRlLmFjY2Vzc1Rva2VufWAsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVzQm9keSA9IGF3YWl0IEFKQVgoJy9jYXRlZ29yaWVzJywgYC9gLCBzdGF0ZS5yZXFPcHRpb25zKTtcclxuXHJcbiAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCByZXNCb2R5LmRhdGE7XHJcblxyXG4gIHN0YXRlLnN1YnNjcmlwdGlvbnMuY2F0ZWdvcnkgPSBkYXRhO1xyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRDYXRzID0gY2F0Y2hUaHJvd0Vycihhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgc3RhdGUucmVxT3B0aW9ucyA9IHtcclxuICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7c3RhdGUuYWNjZXNzVG9rZW59YCxcclxuICB9O1xyXG5cclxuICBjb25zdCByZXNCb2R5ID0gYXdhaXQgQUpBWCgnL2NhdGVnb3JpZXMnLCBgL2AsIHN0YXRlLnJlcU9wdGlvbnMpO1xyXG5cclxuICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHJlc0JvZHkuZGF0YTtcclxuXHJcbiAgc3RhdGUuc3Vic2NyaXB0aW9ucy5jYXRlZ29yeSA9IGRhdGE7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZUNhdGVnb3J5ID0gY2F0Y2hUaHJvd0VycihcclxuICBhc3luYyBmdW5jdGlvbiAoaWQsIGZvcm1EYXRhKSB7XHJcbiAgICBzdGF0ZS5yZXFPcHRpb25zID0ge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtzdGF0ZS5hY2Nlc3NUb2tlbn1gLFxyXG4gICAgICBmb3JtRGF0YSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgcmVzQm9keSA9IGF3YWl0IEFKQVgoXHJcbiAgICAgICcvY2F0ZWdvcmllcycsXHJcbiAgICAgIGAvJHtpZH1gLFxyXG4gICAgICBzdGF0ZS5yZXFPcHRpb25zXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgcmVzQm9keS5kYXRhO1xyXG4gICAgc3RhdGUudXNlciA9IGRhdGE7XHJcbiAgfVxyXG4pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFkZFN1YkNhdGVnb3J5ID0gY2F0Y2hUaHJvd0Vycihhc3luYyBmdW5jdGlvbiAoaWRzKSB7XHJcbiAgc3RhdGUucmVxT3B0aW9ucyA9IHtcclxuICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgIGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtzdGF0ZS5hY2Nlc3NUb2tlbn1gLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IFtpZCwgc3ViSWRdID0gaWRzO1xyXG4gIGNvbnNvbGUubG9nKGlkcywgaWQsIHN1YklkKTtcclxuICBjb25zdCByZXNCb2R5ID0gYXdhaXQgQUpBWChcclxuICAgICcvY2F0ZWdvcmllcycsXHJcbiAgICBgLyR7aWR9L25ldy1zdWIvJHtzdWJJZH1gLFxyXG4gICAgc3RhdGUucmVxT3B0aW9uc1xyXG4gICk7XHJcblxyXG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgcmVzQm9keS5kYXRhO1xyXG4gIHN0YXRlLnVzZXIgPSBkYXRhO1xyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyU2V0dGluZ3MgPSBjYXRjaFRocm93RXJyKFxyXG4gIGFzeW5jIGZ1bmN0aW9uIChmb3JtRGF0YSkge1xyXG4gICAgc3RhdGUucmVxT3B0aW9ucyA9IHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7c3RhdGUuYWNjZXNzVG9rZW59YCxcclxuICAgICAgZm9ybURhdGEsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHJlc0JvZHkgPSBhd2FpdCBBSkFYKFxyXG4gICAgICAnL3VzZXJzJyxcclxuICAgICAgYC91cGRhdGVTZXR0aW5nc2AsXHJcbiAgICAgIHN0YXRlLnJlcU9wdGlvbnNcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCByZXNCb2R5LmRhdGE7XHJcbiAgICBzdGF0ZS51c2VyID0gZGF0YTtcclxuICB9XHJcbik7XHJcbiIsImltcG9ydCAqIGFzIG1vZGVsIGZyb20gJy4vbW9kZWwnO1xyXG5pbXBvcnQgZXJyb3JWaWV3IGZyb20gJy4vdmlld3MvZGlhbG9ndWVzL2Vycm9yVmlldyc7XHJcblxyXG5leHBvcnQgY29uc3QgY2hlY2tVcGRhdGVTdGF0ZSA9IGZ1bmN0aW9uIChyb3V0ZSwgc3RhdGUpIHtcclxuICBoaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgJycsIHJvdXRlKTtcclxuICBpZiAocm91dGUuaW5jbHVkZXMoJ2ZvcmdvdCcpKVxyXG4gICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGUsICcnLCByb3V0ZSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY2F0Y2hUaHJvd0VyciA9IGZ1bmN0aW9uIChmbikge1xyXG4gIHJldHVybiAocGFyYW1zKSA9PlxyXG4gICAgZm4ocGFyYW1zIHx8IHVuZGVmaW5lZCkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB0aHJvdyBlcnI7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBBSkFYID0gYXN5bmMgZnVuY3Rpb24gKHJlc291cmNlLCBlbmRwb2ludCwgb3B0aW9ucykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IEJBU0VfUEFUSCwgQVBJX1ZFUlNJT04gfSA9IGF3YWl0IGltcG9ydCgnLi9jb25maWcnKTtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly90cmFja2l6ZXItYmFja2VuZC5vbnJlbmRlci5jb20ke0JBU0VfUEFUSH0ke0FQSV9WRVJTSU9OfSR7cmVzb3VyY2V9JHtlbmRwb2ludH1gLFxyXG4gICAgICB7XHJcbiAgICAgICAgbWV0aG9kOiBvcHRpb25zPy5tZXRob2QgfHwgJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBvcHRpb25zPy5hdXRob3JpemF0aW9uIHx8IHVuZGVmaW5lZCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IG9wdGlvbnM/LmZvcm1EYXRhXHJcbiAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KG9wdGlvbnM/LmZvcm1EYXRhKVxyXG4gICAgICAgICAgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcblxyXG4gICAgaWYgKHJlcy5zdGF0dXMgPT0gNTA0KSB7XHJcbiAgICAgIGNvbnN0IGVyciA9IHtcclxuICAgICAgICBzdGF0dXM6ICdOZXRFcnInLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdOZXR3b3JrIGVycm9yJyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRocm93IGVycjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocmVzLnN0YXR1cyA9PT0gNDA0KSB7XHJcbiAgICAgIGNvbnN0IGVyciA9IHtcclxuICAgICAgICBzdGF0dXM6IHJlcy5zdGF0dXMsXHJcbiAgICAgICAgbWVzc2FnZTogcmVzLnN0YXR1c1RleHQsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aHJvdyBlcnI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaWYgKHJlcy5zdGF0dXNUZXh0XHJcbiAgICBpZiAoIXJlcy5vaykge1xyXG4gICAgICBsZXQgZXJyID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgZXJyLnN0YXR1c0NvZGUgPSByZXMuc3RhdHVzO1xyXG4gICAgICB0aHJvdyBlcnI7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB0aHJvdyBlcnI7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNoZWNrUm91dGVBY2Nlc3MgPSBhc3luYyAoc3RhdGUsIHJvdXRlKSA9PiB7XHJcbiAgaWYgKCFzdGF0ZS5wdWJsaWNSb3V0ZXMuaW5jbHVkZXMocm91dGUpICYmICFzdGF0ZS51c2VyKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBtb2RlbC5nZXRNZSgpO1xyXG5cclxuICAgICAgaWYgKCFzdGF0ZS51c2VyKSB7XHJcbiAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sICcnLCAnYXV0aC9zaWduaW4nKTtcclxuICAgICAgICByZXR1cm4gbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBpZiAoZXJyLnN0YXR1c0NvZGUgPT09IDQwMSkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgbG9jYXRpb24ucmVwbGFjZSgnL2F1dGgvc2lnbmluJyk7XHJcbiAgICAgICAgfSwgMzAwMCk7XHJcblxyXG4gICAgICAgIHJldHVybiBlcnJvclZpZXcucmVuZGVyRXJyb3IoZXJyLCB7fSwgdHJ1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChlcnIuc3RhdHVzID09PSAnTmV0RXJyJykge1xyXG4gICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCAnJywgJ2F1dGgvc2lnbmluJyk7XHJcbiAgICAgICAgcmV0dXJuIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlcnJvclZpZXcucmVuZGVyRXJyb3IoZXJyLCB7IGFjdGlvbjogJ1JlbG9hZCcgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFVwY29tZ2luZ0JpbGwgPSBhc3luYyAoc3VicykgPT4ge1xyXG4gIHJldHVybiBzdWJzLmZpbHRlcihcclxuICAgIChzdWIpID0+XHJcbiAgICAgIG5ldyBEYXRlKHN1Yi5uZXh0QmlsbGluZ0RhdGUpLmdldE1vbnRoKCkgPT09XHJcbiAgICAgICAgbmV3IERhdGUoKS5nZXRNb250aCgpICYmXHJcbiAgICAgIG5ldyBEYXRlKHN1Yi5uZXh0QmlsbGluZ0RhdGUpLmdldEZ1bGxZZWFyKCkgPT09XHJcbiAgICAgICAgbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpXHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVEYXNoYm9hcmQgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgeyBkZWZhdWx0OiBkYXNoYm9hcmRWaWV3IH0gPVxyXG4gICAgYXdhaXQgaW1wb3J0KCcuL3ZpZXdzL3NlY3Rpb25zL2Rhc2hib2FyZFZpZXcnKTtcclxuXHJcbiAgLy9yZXNldHMgc3Vic2NyaXB0aW9ucyB0byBnZXQgbmV3IGRhdGEgZnJvbSB0aGUgZGJcclxuICAvLyBtb2RlbC5zdGF0ZS5zdWJzY3JpcHRpb25zLmFsbFN1YnMgPSB1bmRlZmluZWQ7XHJcbiAgLy8gbW9kZWwuc3RhdGUuc3Vic2NyaXB0aW9ucy5EQlN1Yk92ZXJ2aWV3ID0gdW5kZWZpbmVkO1xyXG5cclxuICAvL2dldCB1cGRhdGVkIHN1YnNjcmlwdGlvbnNcclxuICBhd2FpdCBtb2RlbC5nZXRTdWJzKCk7XHJcbiAgZGFzaGJvYXJkVmlldy51cGRhdGVTdWIobW9kZWwuc3RhdGUuc3Vic2NyaXB0aW9ucy5hbGxTdWJzKTtcclxuICBjb25zdCBiaWxscyA9IGF3YWl0IGdldFVwY29tZ2luZ0JpbGwoXHJcbiAgICBtb2RlbC5zdGF0ZS5zdWJzY3JpcHRpb25zLmFsbFN1YnNcclxuICApO1xyXG4gIGNvbnNvbGUubG9nKGJpbGxzKTtcclxuICBkYXNoYm9hcmRWaWV3LnVwZGF0ZUJpbGxzKGJpbGxzKTtcclxuXHJcbiAgLy9nZXQgdXBkYXRlZCBzdWJzIG92ZXJ2aWV3XHJcbiAgYXdhaXQgbW9kZWwuZ2V0REJTdWJPdmVydmlldygpO1xyXG4gIGRhc2hib2FyZFZpZXcudXBkYXRlT3ZlcnZpZXcoXHJcbiAgICBtb2RlbC5zdGF0ZS5zdWJzY3JpcHRpb25zPy5EQlN1Yk92ZXJ2aWV3XHJcbiAgKTtcclxufTtcclxuIiwiaW1wb3J0IEFwcFZpZXcgZnJvbSBcIi4uL1ZpZXdcIjtcclxuXHJcbi8vU0VDVElPTiBQQVJFTlQgVklFV1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uVmlldyBleHRlbmRzIEFwcFZpZXcge1xyXG4gIGFzeW5jIHJlbmRlckNvbnRhaW5lckVsbSgpIHtcclxuICAgIHRoaXMuYXBwLmlubmVySFRNTCA9IGF3YWl0IHRoaXMuX2dlbmVyYXRlTWFya3VwKFwiYXBwLWxheW91dFwiKTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXBwLW1haW5cIikuaW5uZXJIVE1MID1cclxuICAgICAgJzxkaXYgY2xhc3M9XCJwcmUtbG9hZGVyXCI+PC9kaXY+JztcclxuICB9XHJcblxyXG4gIGFzeW5jIHJlbmRlclNlY3Rpb24ocm91dGUpIHtcclxuICAgIHRoaXMucGFyZW50RWwucXVlcnlTZWxlY3RvcihcIi5hcHAtbWFpblwiKS5pbm5lckhUTUwgPVxyXG4gICAgICBhd2FpdCB0aGlzLl9nZW5lcmF0ZU1hcmt1cChyb3V0ZSk7XHJcbiAgfVxyXG5cclxuICBnZXQgcGFyZW50RWwoKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcHAtbGF5b3V0XCIpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgU2VjdGlvblZpZXcgZnJvbSAnLi9zZWN0aW9uVmlldyc7XHJcblxyXG5jbGFzcyBEYXNoYm9hcmRWaWV3IGV4dGVuZHMgU2VjdGlvblZpZXcge1xyXG4gIGlzU3ViQXZhaWxhYmxlID0gZmFsc2U7XHJcbiAgdG9nZ2xlU3ViQmlsbExpc3QodGFyZ2V0KSB7XHJcbiAgICBpZiAoXHJcbiAgICAgICF0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWFjdGlvbicpID09PSAndG9nZ2xlLXN1Yi1iaWxsLWxpc3QnXHJcbiAgICApXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZm9yJykgPT09ICdzdWJzY3JpcHRpb25zJykge1xyXG4gICAgICB0aGlzLnBhcmVudEVsLnF1ZXJ5U2VsZWN0b3IoJy5iaWxsLWxpc3QnKS5zdHlsZS5kaXNwbGF5ID1cclxuICAgICAgICAnbm9uZSc7XHJcbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdub3QtYWN0aXZlJyk7XHJcbiAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdidG4tZ3JleS04Jyk7XHJcblxyXG4gICAgICB0aGlzLnBhcmVudEVsLnF1ZXJ5U2VsZWN0b3IoJy5zdWItbGlzdCcpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcbiAgICAgIHRoaXMuYXBwLnF1ZXJ5U2VsZWN0b3IoJy5idG4tYmlsbCcpLmNsYXNzTGlzdC5hZGQoJ25vdC1hY3RpdmUnKTtcclxuICAgICAgdGhpcy5hcHBcclxuICAgICAgICAucXVlcnlTZWxlY3RvcignLmJ0bi1iaWxsJylcclxuICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZSgnYnRuLWdyZXktOCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKCdmb3InKSA9PT0gJ2JpbGxzJykge1xyXG4gICAgICB0aGlzLnBhcmVudEVsLnF1ZXJ5U2VsZWN0b3IoJy5zdWItbGlzdCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdub3QtYWN0aXZlJyk7XHJcbiAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdidG4tZ3JleS04Jyk7XHJcblxyXG4gICAgICB0aGlzLnBhcmVudEVsLnF1ZXJ5U2VsZWN0b3IoJy5iaWxsLWxpc3QnKS5zdHlsZS5kaXNwbGF5ID1cclxuICAgICAgICAnZmxleCc7XHJcbiAgICAgIHRoaXMuYXBwLnF1ZXJ5U2VsZWN0b3IoJy5idG4tc3ViJykuY2xhc3NMaXN0LmFkZCgnbm90LWFjdGl2ZScpO1xyXG4gICAgICB0aGlzLmFwcFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuYnRuLXN1YicpXHJcbiAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoJ2J0bi1ncmV5LTgnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZVN1YihkYXRhKSB7XHJcbiAgICBjb25zdCBzdWJMaXN0RWxtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1Yi1saXN0Jyk7XHJcbiAgICB0aGlzLmlzU3ViQXZhaWxhYmxlID0gZGF0YS5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgIGlmICghdGhpcy5pc1N1YkF2YWlsYWJsZSAmJiBzdWJMaXN0RWxtKSB7XHJcbiAgICAgIHJldHVybiAoc3ViTGlzdEVsbS5pbm5lckhUTUwgPSBgPHAgXHJcbiAgY2xhc3M9XCJwYXJhZ3JhcGggc3ViLWRlZmF1bHRcIiBcclxuICBzdHlsZT1cIlxyXG4gICAgY29sb3I6ICM2YjcyODA7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW46IDFyZW0gMDtcclxuICBcIlxyXG4+XHJcbiAgTm8gc3VicyB5ZXQgOilcclxuPC9wPlxyXG5cclxuYCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHN1Ykxpc3RFbG0pXHJcbiAgICAgIHN1Ykxpc3RFbG0uaW5uZXJIVE1MID0gZGF0YVxyXG4gICAgICAgIC5tYXAoKGVsbSkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGA8YSBjbGFzcz1cInN1Yi1pdGVtXCIgZGF0YS1pZD1cIiR7ZWxtLl9pZH1cIlxyXG4gICAgICAgICAgPjxpIGNsYXNzPVwiYnRuX19zZWxlY3QtY2F0ZWdvcnlcIj7imqE8L2k+PGltZyBzcmM9XCIuL2Fzc2V0cy9TcG90aWZ5IExvZ28ucG5nXCIgYWx0PVwic3ViIGxvZ29cIiAvPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJwYXJhZ3JhcGggc3ViLXRpdGxlXCI+JHtlbG0ubmFtZX08L3A+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cInBhcmFncmFwaCBzdWItcHJpY2VcIj4kJHtlbG0uYW1vdW50fTwvcD48L2E+YDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5qb2luKCcnKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHJlbmRlck5ld1N1YihkYXRhKSB7XHJcbiAgICBjb25zdCBzdWJMaXN0RWxtID0gdGhpcy5hcHAucXVlcnlTZWxlY3RvcignLnN1Yi1saXN0Jyk7XHJcblxyXG4gICAgdGhpcy5pc1N1YkF2YWlsYWJsZSA9IGRhdGEubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgIGlmICghdGhpcy5pc1N1YkF2YWlsYWJsZSlcclxuICAgICAgZG9jdW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgnLnN1Yi1kZWZhdWx0JylcclxuICAgICAgICAuZm9yRWFjaCgoc3ViKSA9PiAoc3ViLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpKTtcclxuXHJcbiAgICBjb25zdCBodG1sID0gYCA8YSBjbGFzcz1cInN1Yi1pdGVtXCIgZGF0YS1pZD1cIiR7ZGF0YS5faWR9XCJcclxuICAgID48aSBjbGFzcz1cImJ0bl9fc2VsZWN0LWNhdGVnb3J5XCI+4pqhPC9pPjxpbWcgc3JjPVwiLi9hc3NldHMvU3BvdGlmeSBMb2dvLnBuZ1wiIGFsdD1cInN1YiBsb2dvXCIgLz5cclxuICAgIDxwIGNsYXNzPVwicGFyYWdyYXBoIHN1Yi10aXRsZVwiPiR7ZGF0YS5uYW1lfTwvcD5cclxuICAgIDxwIGNsYXNzPVwicGFyYWdyYXBoIHN1Yi1wcmljZVwiPiQke2RhdGEuYW1vdW50fTwvcD48L2FcclxuICA+YDtcclxuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXMpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgc3ViTGlzdEVsbSAmJlxyXG4gICAgICAgICAgc3ViTGlzdEVsbS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBodG1sKTtcclxuICAgICAgICByZXMoKTtcclxuICAgICAgfSwgMzAwKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQmlsbHMoZGF0YSkge1xyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICBjb25zdCBiaWxsTGlzdEVsbSA9IHRoaXMuYXBwLnF1ZXJ5U2VsZWN0b3IoJy5iaWxsLWxpc3QnKTtcclxuICAgIGNvbnN0IGh0bWwgPSBkYXRhXHJcbiAgICAgIC5maWx0ZXIoKHN1YikgPT4gIXN1Yi5pc0JpbGxlZClcclxuICAgICAgLm1hcChcclxuICAgICAgICAoc3ViKSA9PlxyXG4gICAgICAgICAgYDxhIGNsYXNzPVwiYmlsbC1pdGVtXCJcclxuICAgICAgICA+PGRpdiBjbGFzcz1cImJpbGwtZGF0ZVwiPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJwYXJhZ3JhcGggYmlsbC1tb250aFwiPiR7bmV3IERhdGUoc3ViLm5leHRCaWxsaW5nRGF0ZSkudG9Mb2NhbGVTdHJpbmcoJ2RlZmF1bHQnLCB7IG1vbnRoOiAnbG9uZycgfSl9PC9wPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJwYXJhZ3JhcGggYmlsbC1kYXlcIj4ke25ldyBEYXRlKHN1Yi5uZXh0QmlsbGluZ0RhdGUpLnRvTG9jYWxlU3RyaW5nKCdkZWZhdWx0JywgeyB3ZWVrZGF5OiAnc2hvcnQnIH0pfTwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8cCBjbGFzcz1cInBhcmFncmFwaCBiaWxsLXRpdGxlXCI+JHtzdWIubmFtZX08L3A+XHJcbiAgICAgICAgPHAgY2xhc3M9XCJwYXJhZ3JhcGggYmlsbC1wcmljZVwiPiQke3N1Yi5hbW91bnR9PC9wPjwvYVxyXG4gICAgICA+YFxyXG4gICAgICApXHJcbiAgICAgIC5qb2luKCcnKTtcclxuXHJcbiAgICBiaWxsTGlzdEVsbS5pbm5lckhUTUwgPSBodG1sO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlT3ZlcnZpZXcoZGF0YSkge1xyXG4gICAgLy91cGRhdGUgdGhlIFBST0dSRVNTIFNWR1xyXG4gICAgY29uc3QgY3VyRGF0ZSA9IG5ldyBEYXRlKCkuZ2V0RGF0ZSgpO1xyXG4gICAgY29uc3QgcHJvZ3Jlc3NQZXJjZW50ID0gTWF0aC5yb3VuZChcclxuICAgICAgKCgoY3VyRGF0ZSAvIDMwKSAqIDEwMCkgLyAxMDApICogMjgzXHJcbiAgICApO1xyXG4gICAgY29uc3QgcHJvZ3Jlc3NFbG0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvZ3Jlc3MnKTtcclxuICAgIHByb2dyZXNzRWxtLnN0eWxlLnN0cm9rZURhc2hvZmZzZXQgPSBgJHsyODMgLSArcHJvZ3Jlc3NQZXJjZW50fWA7XHJcbiAgICBwcm9ncmVzc0VsbS5zdHlsZS50cmFuc2l0aW9uID0gYDJzYDtcclxuXHJcbiAgICAvL1VwZGF0ZSB0aGUgUFJPR1JFU1MgVEVYVFxyXG4gICAgY29uc3QgcHJvZ3Jlc3NUZXh0RWxtID0gdGhpcy5hcHAucXVlcnlTZWxlY3RvcignLnByb2dyZXNzLXRleHQnKTtcclxuICAgIHByb2dyZXNzVGV4dEVsbS5xdWVyeVNlbGVjdG9yKCcudG90YWwtYmlsbGVkJykuaW5uZXJIVE1MID1cclxuICAgICAgdGhpcy5mb3JtYXRDdXJyZW5jeShkYXRhPy5iaWxsZWRBbXQgfHwgMCk7XHJcbiAgICBwcm9ncmVzc1RleHRFbG0ucXVlcnlTZWxlY3RvcignLm1vbnRoJykuaW5uZXJIVE1MID1cclxuICAgICAgbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygnZW4tVVMnLCB7XHJcbiAgICAgICAgbW9udGg6ICdsb25nJyxcclxuICAgICAgfSk7XHJcblxyXG4gICAgLy9VcGRhdGUgdGhlIERBU0hCT0FSRCBTVUJTQ1JJUFRJT04gT1ZFUlZJRVdcclxuICAgIHRoaXMuYXBwLnF1ZXJ5U2VsZWN0b3IoJy5zdWItb3ZlcnZpZXcnKS5pbm5lckhUTUwgPVxyXG4gICAgICBgPGRpdiBjbGFzcz1cImFjdGl2ZS1zdWIgc3ViLW92ZXJ2aWV3LWl0ZW1cIj5cclxuICAgICAgICAgICAgPGg1IGNsYXNzPVwiaGVhZGluZy01XCI+VG90YWwgU3ViPC9oNT5cclxuICAgICAgICAgICAgPHAgY2xhc3M9XCJwYXJhZ3JhcGggcHJpY2VcIj5cclxuICAgICAgICAgICAgICR7dGhpcy5mb3JtYXRDdXJyZW5jeShkYXRhPy50b3RhbEFtdCB8fCAwKX0gPHNwYW4gY2xhc3M9XCJwYXJhZ3JhcGggY291bnRcIj4oJHtkYXRhPy50b3RhbFN1YnMgfHwgMH0pPC9zcGFuPlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJiaWxsZWQtc3ViIHN1Yi1vdmVydmlldy1pdGVtXCI+XHJcbiAgICAgICAgICAgIDxoNSBjbGFzcz1cImhlYWRpbmctNVwiPkJpbGxlZCBTdWI8L2g1PlxyXG4gICAgICAgICAgICA8cCBjbGFzcz1cInBhcmFncmFwaCBwcmljZVwiPlxyXG4gICAgICAgICAgICAgICR7dGhpcy5mb3JtYXRDdXJyZW5jeShkYXRhPy5iaWxsZWRBbXQgfHwgMCl9IDxzcGFuIGNsYXNzPVwicGFyYWdyYXBoIGNvdW50XCI+KCR7ZGF0YT8uYmlsbGVkQ291bnQgfHwgMH0pPC9zcGFuPlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1bmJpbGxlZC1zdWIgc3ViLW92ZXJ2aWV3LWl0ZW1cIj5cclxuICAgICAgICAgICAgPGg1IGNsYXNzPVwiaGVhZGluZy01XCI+VW5iaWxsZWQgU3ViPC9oNT5cclxuICAgICAgICAgICAgPHAgY2xhc3M9XCJwYXJhZ3JhcGggcHJpY2VcIj5cclxuICAgICAgICAgICAgICAke3RoaXMuZm9ybWF0Q3VycmVuY3koZGF0YT8udW5iaWxsZWRBbXQgfHwgMCl9IDxzcGFuIGNsYXNzPVwicGFyYWdyYXBoIGNvdW50XCI+KCR7ZGF0YT8udW5iaWxsZWRDb3VudCB8fCAwfSk8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDwvZGl2PmA7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgRGFzaGJvYXJkVmlldygpO1xyXG4iLCJpbXBvcnQgVmlldyBmcm9tICcuL1ZpZXcnO1xyXG5cclxuLy9Gb3IgXCJBUFBcIiBzcGVjaWZpYyBmdW5jdGlvbnMgb25seVxyXG5jbGFzcyBBcHBWaWV3IGV4dGVuZHMgVmlldyB7XHJcbiAgX25ld1JvdXRlO1xyXG5cclxuICBhZGRIYW5kbGVyTG9hZChoYW5kbGVyKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IGhhbmRsZXIoKSk7XHJcbiAgfVxyXG5cclxuICBhZGRIYW5kbGVyUG9wU3RhdGUoaGFuZGxlcikge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgKCkgPT4ge1xyXG4gICAgICBoYW5kbGVyKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEhhbmRsZXJJbnB1dChoYW5kbGVyKSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcclxuICAgICAgLy8gZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgaGFuZGxlcihlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSGFuZGxlckZvY3VzT3V0KGhhbmRsZXIpIHtcclxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCAoZSkgPT4ge1xyXG4gICAgICBoYW5kbGVyKGUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRIYW5kbGVyU3VibWl0KGhhbmRsZXIpIHtcclxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuICAgICAgaGFuZGxlcihlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSGFuZGxlckNsaWNrKGhhbmRsZXIpIHtcclxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICBoYW5kbGVyKGUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyByZW5kZXJOZXdTdWIoKSB7XHJcbiAgICBjb25zdCBlbG0gPSBhd2FpdCB0aGlzLl9nZW5lcmF0ZU1hcmt1cCgnbmV3LXN1YnNjcmlwdGlvbicpO1xyXG4gICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdvdmVybGF5Jyk7XHJcbiAgICBvdmVybGF5LmlubmVySFRNTCA9IGVsbTtcclxuICAgIGhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgJy9uZXctc3Vic2NyaXB0aW9uJyk7XHJcbiAgICB0aGlzLnBhcmVudEVsLmNsYXNzTGlzdC5hZGQoJ292ZXJsYXktZWxtJyk7XHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfSwgMzAwKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5wYXJlbnRFbC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyYmVnaW4nLCBvdmVybGF5KTtcclxuICAgIHRoaXMucGFyZW50RWxcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZScpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBoaXN0b3J5LmJhY2soKTtcclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudEVsLmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJsYXktZWxtJyk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyQ29uZmlybShtZXNzYWdlLCBkYXRhVHlwZSkge1xyXG4gICAgY29uc3QgY29uZmlybUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5yZW5kZXJPdmVybGF5RWxtKGNvbmZpcm1Cb3gpO1xyXG4gICAgY29uZmlybUJveC5jbGFzc0xpc3QuYWRkKCdjb25maXJtYXRpb24nKTtcclxuXHJcbiAgICBjb25maXJtQm94LmlubmVySFRNTCA9IGBcclxuICAgICAgICA8cCBjbGFzcz1cInBhcmFncmFwaCBtYi1zbVwiPiR7bWVzc2FnZSB8fCAnQ29udGludWUgdGhpcyBhY3Rpb24gPyd9PC9wPlxyXG4gICAgICAgIDxhIGNsYXNzPVwiYnRuIGJ0bi1ncmV5LTggYnRuLXN0b3BcIj5ObzwvYT5cclxuICAgICAgICA8YSBjbGFzcz1cImJ0biBidG4tb3JhbmdlIGJ0bi1jb250aW51ZSBzaWdub3V0XCIgZGF0YS10eXBlPVwiJHtkYXRhVHlwZX1cIj5ZZXM8L2E+XHJcbiAgICAgIGA7XHJcblxyXG4gICAgY29uZmlybUJveFxyXG4gICAgICAucXVlcnlTZWxlY3RvcignLmJ0bicpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+XHJcbiAgICAgICAgdGhpcy5jbG9zZU92ZXJsYXlFbG0oJ2NvbmZpcm1hdGlvbicpXHJcbiAgICAgICk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJTdWJEZXRhaWxzKHN1Yikge1xyXG4gICAgY29uc3QgZGV0YWlsc0JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5yZW5kZXJPdmVybGF5RWxtKGRldGFpbHNCb3gpO1xyXG4gICAgZGV0YWlsc0JveC5jbGFzc0xpc3QuYWRkKCdzdWItZGV0YWlscycpO1xyXG4gICAgZGV0YWlsc0JveC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCBgJHtzdWIuX2lkfWApO1xyXG5cclxuICAgIGRldGFpbHNCb3guaW5uZXJIVE1MID0gYCBcclxuICAgICAgICA8IS0tIEhlYWRlciB3aXRoIGxvZ28gYW5kIHN0YXR1cyAtLT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic3ViLWRldGFpbHNfX2hlYWRlclwiIGRhdGEtaWQ9PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvblwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNsb3NlXCI+4pyWPC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJ0bi1kZWxldGUtc3ViXCI+RGVsZXRlPC9zcGFuPiBcclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViLWRldGFpbHNfX2xvZ29cIj4ke3N1Yi5uYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN1Yi1kZXRhaWxzX19zdGF0dXNcIj5TdGF0dXM6ICR7c3ViLnN0YXR1c308L3NwYW4+XHJcbiAgICAgICAgICAgIDxoMSBjbGFzcz1cInN1Yi1kZXRhaWxzX190aXRsZVwiPiR7c3ViLmRlc2NyaXB0aW9ufTwvaDE+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzPVwic3ViLWRldGFpbHNfX3N1YnNjcmlwdGlvblwiPlN1YnNjcmlwdGlvbiBvbiBldmVyeSAke25ldyBEYXRlKHN1Yi5zdGFydERhdGUpLmdldERhdGUoKX1yZDwvcD5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Yi1kZXRhaWxzX19jYXRlZ29yeVwiPiR7c3ViLmNhdGVnb3J5IHx8ICdOQSd9PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDwhLS0gUGF5bWVudCBpbmZvcm1hdGlvbiAtLT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic3ViLWRldGFpbHNfX3BheW1lbnRcIj5cclxuICAgICAgICAgICAgPHAgY2xhc3M9XCJzdWItZGV0YWlsc19fcGF5bWVudC1sYWJlbFwiPk5leHQgUGF5bWVudDwvcD5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Yi1kZXRhaWxzX19hbW91bnRcIj4tJCR7c3ViLmFtb3VudH08L2Rpdj5cclxuICAgICAgICAgICAgPHAgY2xhc3M9XCJzdWItZGV0YWlsc19fZHVlLWRhdGVcIj5cclxuICAgICAgICAgICAgICAgIEV4cGVjdGVkIGFyb3VuZCA8YSBocmVmPVwiI1wiPiQke3N1Yi5uZXh0QmlsbGluZ0RhdGV9PC9hPlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDwhLS0gVGltZWxpbmUgdmlzdWFsaXphdGlvbiAtLT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic3ViLWRldGFpbHNfX3RpbWVsaW5lXCI+XHJcbiAgICAgICAgICAgIDwhLS0gUHJvZ3Jlc3MgdHJhY2sgLS0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtdHJhY2tcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtcHJvZ3Jlc3NcIj48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8IS0tIFRpbWVsaW5lIHBvaW50cyAtLT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Yi1kZXRhaWxzX190aW1lbGluZS1wb2ludHNcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtcG9pbnRcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtcG9pbnRcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtcG9pbnRcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtcG9pbnQtLWN1cnJlbnQgc3ViLWRldGFpbHNfX3RpbWVsaW5lLXBvaW50XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViLWRldGFpbHNfX3RpbWVsaW5lLXBvaW50LS1pbmFjdGl2ZSBzdWItZGV0YWlsc19fdGltZWxpbmUtcG9pbnRcIj48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8IS0tIFRpbWVsaW5lIGxhYmVscyAtLT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Yi1kZXRhaWxzX190aW1lbGluZS1sYWJlbHNcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViLWRldGFpbHNfX3RpbWVsaW5lLWxhYmVsLS1tb250aFwiPk9jdDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtbGFiZWwtLXllYXJcIj4yMDIzPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViLWRldGFpbHNfX3RpbWVsaW5lLWxhYmVsLS1tb250aFwiPk5vdjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtbGFiZWwtLXllYXJcIj4yMDIzPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViLWRldGFpbHNfX3RpbWVsaW5lLWxhYmVsLS1tb250aFwiPkRlYzwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtbGFiZWwtLXllYXJcIj4yMDIzPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViLWRldGFpbHNfX3RpbWVsaW5lLWxhYmVsLS1tb250aFwiPkphbjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtbGFiZWwtLXllYXJcIj4yMDI0PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViLWRldGFpbHNfX3RpbWVsaW5lLWxhYmVsLS1tb250aFwiPkZlYjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItZGV0YWlsc19fdGltZWxpbmUtbGFiZWwtLXllYXJcIj4yMDI0PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiaWxsaW5nLXN0YXR1c1wiPlxyXG4gICAgICAgICAgICAgIDxzcGFuPkJpbGxlZDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cImJpbGxpbmdTdGF0dXNcIiBpZD1cImJpbGxpbmdTdGF0dXNcIiAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YDtcclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmlsbGluZy1zdGF0dXMnKS5zdHlsZS5wb2ludGVyRXZlbnRzID1cclxuICAgICAgc3ViLmlzQmlsbGVkID8gJ25vbmUnIDogJ3Vuc2V0JztcclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmlsbGluZ1N0YXR1cycpLmNoZWNrZWQgPSBzdWIuaXNCaWxsZWRcclxuICAgICAgPyAnY2hlY2tlZCdcclxuICAgICAgOiAnJztcclxuXHJcbiAgICBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcignLmNsb3NlJylcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICB0aGlzLmNsb3NlT3ZlcmxheUVsbSgnc3ViLWRldGFpbHMnKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJDYXRlZ29yeURyb3Bkb3duKGNhdGVnb3J5KSB7XHJcbiAgICBjb25zdCBzdWJJZCA9IHRoaXMuYXBwXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuYnRuX19zZWxlY3QtY2F0ZWdvcnknKVxyXG4gICAgICA/LmNsb3Nlc3QoJy5zdWItaXRlbScpLmRhdGFzZXQ/LmlkO1xyXG5cclxuICAgIGNvbnN0IGh0bWwgPSBgPGRpdiBjbGFzcz1cImNhdGVnb3J5LWRyb3Bkb3duXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwiaGVhZGluZy00IGhlYWRpbmctNC0tbGlnaHRcIj5TZWxlY3QgQ2F0ZWdvcnk8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImNhdGVnb3J5LWxpc3RcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICR7Y2F0ZWdvcnkubWFwKChlbG0pID0+IGA8bGkgZGF0YS1pZD0nJHtlbG0uX2lkfScgY2xhc3M9XCIke2VsbS5zdWJzY3JpcHRpb25zLmluY2x1ZGVzKHN1YklkKSA/ICdjdXJyZW50LWNhdGVnb3J5JyA6ICcnfVwiPiR7ZWxtLm5hbWV9PC9saT5gKS5qb2luKCcnKX1cclxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxhPkFkZCBuZXcgQ2F0ZWdvcnk8L2E+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICAgIHRoaXMuYXBwXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuYnRuX19zZWxlY3QtY2F0ZWdvcnknKVxyXG4gICAgICAuY2xvc2VzdCgnLnN1Yi1pdGVtJylcclxuICAgICAgLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGh0bWwpO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQXBwVmlldygpO1xyXG4iLCJpbXBvcnQgU2VjdGlvblZpZXcgZnJvbSAnLi9zZWN0aW9uVmlldyc7XHJcblxyXG5jbGFzcyBCdWRnZXRWaWV3IGV4dGVuZHMgU2VjdGlvblZpZXcge1xyXG4gIGlzQ2F0QXZhaWxhYmxlID0gZmFsc2U7XHJcblxyXG4gIGFzeW5jIHVwZGF0ZU92ZXJ2aWV3KGJpbGxlZCwgYnVkZ2V0KSB7XHJcbiAgICBjb25zdCBbYmlsbGVkRWxtLCBidWRnZXRFbG1dID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5zZWN0aW9uRWwucXVlcnlTZWxlY3RvcignLnN1bW1hcnknKS5jaGlsZHJlblxyXG4gICAgKTtcclxuICAgIGNvbnNvbGUubG9nKGJpbGxlZCwgYnVkZ2V0KTtcclxuICAgIGJpbGxlZEVsbS50ZXh0Q29udGVudCA9IHRoaXMuZm9ybWF0Q3VycmVuY3koK2JpbGxlZCB8fCAwKTtcclxuICAgIGJ1ZGdldEVsbS5xdWVyeVNlbGVjdG9yKCdzcGFuJykudGV4dENvbnRlbnQgPSB0aGlzLmZvcm1hdEN1cnJlbmN5KFxyXG4gICAgICArYnVkZ2V0IHx8IDBcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBhc3luYyByZW5kZXJOZXdDYXRlZ29yeShkYXRhKSB7XHJcbiAgICBjb25zdCBjYXRMaXN0RWxtID0gdGhpcy5hcHAucXVlcnlTZWxlY3RvcignLmNhdGVnb3J5LWxpc3QnKTtcclxuXHJcbiAgICBjb25zdCBodG1sID0gYCBcclxuICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2F0ZWdvcnktaXRlbVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpY29uXCI+QVUgPGJyIC8+VE88L2Rpdj5cclxuICAgICAgICAgICAgICA8cCBjbGFzcz1cIm5hbWVcIj4ke2RhdGE/Lm5hbWV9PC9wPlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwiZGVzY3JpcHRpb25cIj4ke2RhdGEuZGVzY3JpcHRpb259PC9wPlxyXG4gICAgICAgICAgICAgIDxpIGNsYXNzPSdudW0tc3ViJz4ke2RhdGEuc3Vic2NyaXB0aW9ucy5sZW5ndGh9IHN1YnMgYWRkZWQ8L2k+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgY2F0TGlzdEVsbS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBodG1sKTtcclxuICAgIH0sIDMwMCk7XHJcbiAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHJlbmRlckFsbENhdGVnb3J5KGRhdGEpIHtcclxuICAgIGRhdGEgJiYgZGF0YS5yZXZlcnNlKCk7XHJcbiAgICBjb25zdCBjYXRMaXN0RWxtID0gdGhpcy5hcHAucXVlcnlTZWxlY3RvcignLmNhdGVnb3J5LWxpc3QnKTtcclxuXHJcbiAgICBjYXRMaXN0RWxtICYmXHJcbiAgICAgIGNhdExpc3RFbG0uaW5zZXJ0QWRqYWNlbnRIVE1MKFxyXG4gICAgICAgICdiZWZvcmVlbmQnLFxyXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwiY2F0LWRlZmF1bHRcIiBzdHlsZT1cImRpc3BsYXk6ICR7ZGF0YSB8fCBkYXRhLmxlbmd0aCA+IDAgPyAnYmxvY2snIDogJ25vbmUnfVwiPlxyXG4gICAgICA8cCBjbGFzcz1cInBhcmFncmFwaFwiPk5vIENhdGVnb3J5IFlldCA6KTwvcD5cclxuICAgIDwvZGl2PlxyXG4gICAgICAgIGBcclxuICAgICAgKTtcclxuXHJcbiAgICBpZiAoIWRhdGEgfHwgZGF0YS5sZW5ndGggPT09IDApIHJldHVybjtcclxuXHJcbiAgICBjYXRMaXN0RWxtLmlubmVySFRNTCA9IGRhdGFcclxuICAgICAgLm1hcCgoZWxtKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiY2F0ZWdvcnktaXRlbVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpY29uXCI+QVUgPGJyIC8+VE88L2Rpdj5cclxuICAgICAgICAgICAgICA8cCBjbGFzcz1cIm5hbWVcIj4ke2VsbT8ubmFtZX08L3A+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJkZXNjcmlwdGlvblwiPiR7ZWxtLmRlc2NyaXB0aW9ufTwvcD5cclxuICAgICAgICAgICAgICA8aSBjbGFzcz0nbnVtLXN1Yic+JHtlbG0uc3Vic2NyaXB0aW9ucy5sZW5ndGh9IHN1YnMgYWRkZWQ8L2k+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgYDtcclxuICAgICAgfSlcclxuICAgICAgLmpvaW4oJycpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHNlY3Rpb25FbCgpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVkZ2V0Jyk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQnVkZ2V0VmlldygpO1xyXG4iXSwibmFtZXMiOlsic3RhdGUiLCJwYWdlUm91dGVzIiwic2VjdGlvblJvdXRlcyIsInB1YmxpY1JvdXRlcyIsImFwcCIsImlzRmlyc3RMb2FkIiwicGFnZSIsInNlY3Rpb24iLCJpc1BhcmVudENyZWF0ZWQiLCJjdXJyZW50Um91dGUiLCJ2aXNpdGVkUm91dGVzIiwicmVxT3B0aW9ucyIsInN1YnNjcmlwdGlvbnMiLCJidWRnZXQiLCJzaWdudXAiLCJhc3luYyIsImZvcm1EYXRhIiwicmVzQm9keSIsImRhdGEiLCJ1c2VyIiwiYWNjZXNzVG9rZW4iLCJzaWduaW4iLCJjcmVkZW50aWFscyIsInNpZ25vdXQiLCJhdXRob3JpemF0aW9uIiwiZ2V0QWNjZXNzVG9rZW4iLCJnZXRNZSIsIm1ldGhvZCIsImNvbnNvbGUiLCJsb2ciLCJmb3Jnb3RQYXNzd29yZCIsInBhc3N3b3JkUmVzZXRDb2RlIiwiYWxlcnQiLCJjb25maXJtUmVzZXRDb2RlIiwiY29kZSIsImVtYWlsIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIm1lc3NhZ2UiLCJyZXNldFBhc3N3b3JkIiwiY3JlYXRlU3ViIiwibmV3U3ViIiwidXBkYXRlU3ViIiwiaWQiLCJpc0JpbGxlZCIsInN1YkRldGFpbHMiLCJkZWxldGVTdWIiLCJnZXRTdWJzIiwiYWxsU3VicyIsIm5leHRCaWxsaW5nRGF0ZXMiLCJtYXAiLCJzdWIiLCJuZXh0QmlsbGluZ0RhdGUiLCJnZXREQlN1Yk92ZXJ2aWV3IiwiREJTdWJPdmVydmlldyIsImdldFN1YkRldGFpbHMiLCJjcmVhdGVDYXQiLCJjYXRlZ29yeSIsImdldENhdHMiLCJhZGRTdWJDYXRlZ29yeSIsImlkcyIsInN1YklkIiwidXBkYXRlVXNlclNldHRpbmdzIiwiY2hlY2tVcGRhdGVTdGF0ZSIsInJvdXRlIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImluY2x1ZGVzIiwicmVwbGFjZVN0YXRlIiwiY2F0Y2hUaHJvd0VyciIsImZuIiwicGFyYW1zIiwidW5kZWZpbmVkIiwiY2F0Y2giLCJlcnIiLCJBSkFYIiwicmVzb3VyY2UiLCJlbmRwb2ludCIsIm9wdGlvbnMiLCJCQVNFX1BBVEgiLCJBUElfVkVSU0lPTiIsInJlcyIsImZldGNoIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwic3RhdHVzIiwic3RhdHVzVGV4dCIsIm9rIiwianNvbiIsInN0YXR1c0NvZGUiLCJjaGVja1JvdXRlQWNjZXNzIiwibG9jYXRpb24iLCJyZWxvYWQiLCJzZXRUaW1lb3V0IiwicmVwbGFjZSIsInJlbmRlckVycm9yIiwiYWN0aW9uIiwiZ2V0VXBjb21naW5nQmlsbCIsInN1YnMiLCJmaWx0ZXIiLCJEYXRlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsInVwZGF0ZURhc2hib2FyZCIsImRlZmF1bHQiLCJkYXNoYm9hcmRWaWV3IiwiYmlsbHMiLCJ1cGRhdGVCaWxscyIsInVwZGF0ZU92ZXJ2aWV3IiwiU2VjdGlvblZpZXciLCJBIiwicmVuZGVyQ29udGFpbmVyRWxtIiwidGhpcyIsImlubmVySFRNTCIsIl9nZW5lcmF0ZU1hcmt1cCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJlbmRlclNlY3Rpb24iLCJwYXJlbnRFbCIsIkRhc2hib2FyZFZpZXciLCJpc1N1YkF2YWlsYWJsZSIsInRvZ2dsZVN1YkJpbGxMaXN0IiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwic3R5bGUiLCJkaXNwbGF5IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwic3ViTGlzdEVsbSIsImxlbmd0aCIsImVsbSIsIl9pZCIsIm5hbWUiLCJhbW91bnQiLCJqb2luIiwicmVuZGVyTmV3U3ViIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJodG1sIiwiUHJvbWlzZSIsImluc2VydEFkamFjZW50SFRNTCIsImJpbGxMaXN0RWxtIiwidG9Mb2NhbGVTdHJpbmciLCJtb250aCIsIndlZWtkYXkiLCJjdXJEYXRlIiwiZ2V0RGF0ZSIsInByb2dyZXNzUGVyY2VudCIsIk1hdGgiLCJyb3VuZCIsInByb2dyZXNzRWxtIiwic3Ryb2tlRGFzaG9mZnNldCIsInRyYW5zaXRpb24iLCJwcm9ncmVzc1RleHRFbG0iLCJmb3JtYXRDdXJyZW5jeSIsImJpbGxlZEFtdCIsInRvdGFsQW10IiwidG90YWxTdWJzIiwiYmlsbGVkQ291bnQiLCJ1bmJpbGxlZEFtdCIsInVuYmlsbGVkQ291bnQiLCJBcHBWaWV3IiwiX25ld1JvdXRlIiwiYWRkSGFuZGxlckxvYWQiLCJoYW5kbGVyIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImFkZEhhbmRsZXJQb3BTdGF0ZSIsImFkZEhhbmRsZXJJbnB1dCIsImUiLCJhZGRIYW5kbGVyRm9jdXNPdXQiLCJhZGRIYW5kbGVyU3VibWl0IiwiYWRkSGFuZGxlckNsaWNrIiwib3ZlcmxheSIsImNyZWF0ZUVsZW1lbnQiLCJyZXNvbHZlIiwicmVqZWN0IiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiYmFjayIsInJlbmRlckNvbmZpcm0iLCJkYXRhVHlwZSIsImNvbmZpcm1Cb3giLCJyZW5kZXJPdmVybGF5RWxtIiwiY2xvc2VPdmVybGF5RWxtIiwicmVuZGVyU3ViRGV0YWlscyIsImRldGFpbHNCb3giLCJzZXRBdHRyaWJ1dGUiLCJkZXNjcmlwdGlvbiIsInN0YXJ0RGF0ZSIsInBvaW50ZXJFdmVudHMiLCJjaGVja2VkIiwicmVuZGVyQ2F0ZWdvcnlEcm9wZG93biIsImNsb3Nlc3QiLCJkYXRhc2V0IiwiQnVkZ2V0VmlldyIsImlzQ2F0QXZhaWxhYmxlIiwiYmlsbGVkIiwiYmlsbGVkRWxtIiwiYnVkZ2V0RWxtIiwiQXJyYXkiLCJmcm9tIiwic2VjdGlvbkVsIiwiY2hpbGRyZW4iLCJ0ZXh0Q29udGVudCIsInJlbmRlck5ld0NhdGVnb3J5IiwiY2F0TGlzdEVsbSIsInJlbmRlckFsbENhdGVnb3J5IiwicmV2ZXJzZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9