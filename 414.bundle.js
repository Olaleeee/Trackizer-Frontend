"use strict";(self.webpackChunktrackizer=self.webpackChunktrackizer||[]).push([[414],{324:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(425);class r extends a.A{}const n=new r},414:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{controlSectionClick:()=>m,controlSectionRoute:()=>A});var r=s(509),n=s(840),i=s(911),o=s(324),c=s(800),l=s(682),u=s(106),d=s(712);const{checkRouteAccess:e,checkUpdateState:b,getUpcomgingBill:p}=await Promise.resolve().then(s.bind(s,190)),w=async function(){try{const{getDBSubOverview:e,getSubs:t}=await Promise.resolve().then(s.bind(s,106));u.state.subscriptions?.DBSubOverview||await e(),l.default.updateOverview(u.state.subscriptions?.DBSubOverview),console.log(u.state?.subscriptions?.allSubs),u.state.subscriptions?.allSubs||await t(),console.log(u.state?.subscriptions?.allSubs),l.default.updateSub(u.state.subscriptions?.allSubs);const a=await p(u.state.subscriptions?.allSubs);l.default.updateBills(a)}catch(e){console.log(e),r.A.renderError(e)}},S=async function(e){try{b(e,{}),await l.default.renderSection(e),await w()}catch(e){r.A.renderError(err)}},g=function(e){l.default.toggleSubBillList(e)},y=async function(){try{const{getCats:e,getDBSubOverview:t}=await Promise.resolve().then(s.bind(s,106));console.log(u.state.user),u.state.subscriptions?.DBSubOverview||await t(),i.A.updateOverview(u.state.subscriptions?.DBSubOverview?.billedAmt,u.state.user?.settings?.budget),u.state.subscriptions?.category||await e(),i.A.renderAllCategory(u.state.subscriptions?.category)}catch(e){console.log(e),r.A.renderError(e)}},h=async function(e){b(e,{}),await i.A.renderSection(e),await y()},v=function(e){b(e,{}),o.A.renderSection(e)},f=function(e){b(e,{}),c.A.renderSection(e)},A=async function(t,s){await e(t,s),t.currentRoute!==s&&(!t.section.isParentCreated&&await n.A.renderContainerElm(),"/dashboard"===s&&S(s),"/budget"===s&&h(s),"/calender"===s&&v(s),"/card"===s&&f(s),t.currentRoute=s,t.section.isParentCreated=!0,n.A.addActiveLink(s))},k=async function(e){const{getSubDetails:t}=await Promise.resolve().then(s.bind(s,106));console.log(e,e.closest(".sub-item"));const a=e.closest(".sub-item").getAttribute("data-id");await t(a),d.default.renderSubDetails(u.state.subscriptions.subDetails)},m=async function(e){if(e.closest(".dashboard")&&g(e),e.closest(".sub-item")&&!e.closest(".btn__select-category")&!e.closest(".category-dropdown")&&k(e),e.closest(".btn__select-category")){const{getCats:e}=await Promise.resolve().then(s.bind(s,106));await e(),d.default.renderCategoryDropdown(u.state.subscriptions.category)}};a()}catch(e){a(e)}},1)},800:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(425);class r extends a.A{}const n=new r},840:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(425);class r extends a.A{addActiveLink(e=location.pathname){this.app.querySelectorAll(".nav-link").forEach(t=>{null!==t.querySelector("path")&&(t.querySelector("path").style.fill="#A2A2B5",this.app.querySelector(`[href="${e}"]`).querySelector("path")&&(this.app.querySelector(`[href="${e}"]`).querySelector("path").style.fill="white"))})}}const n=new r}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ckIsRUFBT3FCLFFBQVEsdUJBRWxCRixFQUFpQm5CLEdBRWZBLEVBQU9xQixRQUFRLHlCQUEwQixDQUMzQyxNQUFNLFFBQUVsQixTQUFrQiw0Q0FDcEJBLElBRU4sVUFBUXVCLHVCQUF1QixFQUFBM0MsTUFBTUMsY0FBY3dCLFNBQ3JELENBR0YsRSxvRUM1SUEsTUFBTW1CLFVBQWlCLEtBRXZCLFlBQW1CQSxDLDhDQ0RuQixNQUFNQyxVQUF1QixJQUMzQixhQUFBVixDQUFjdEIsRUFBUWlDLFNBQVNDLFVBQzdCQyxLQUFLQyxJQUFJQyxpQkFBaUIsYUFBYUMsUUFBU0MsSUFDWixPQUE5QkEsRUFBSUMsY0FBYyxVQUNwQkQsRUFBSUMsY0FBYyxRQUFRQyxNQUFNQyxLQUFPLFVBQ25DUCxLQUFLQyxJQUFJSSxjQUFjLFVBQVV4QyxPQUFXd0MsY0FBYyxVQUM1REwsS0FBS0MsSUFDRkksY0FBYyxVQUFVeEMsT0FDeEJ3QyxjQUFjLFFBQVFDLE1BQU1DLEtBQU8sV0FJOUMsRUFHRixZQUFtQlYsQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RyYWNraXplci8uL3B1YmxpYy9zY3JpcHQvdmlld3Mvc2VjdGlvbnMvY2FsZW5kZXJWaWV3LmpzIiwid2VicGFjazovL3RyYWNraXplci8uL3B1YmxpYy9zY3JpcHQvY29udHJvbGxlcnMvc2VjdGlvbkNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vdHJhY2tpemVyLy4vcHVibGljL3NjcmlwdC92aWV3cy9zZWN0aW9ucy9jYXJkVmlldy5qcyIsIndlYnBhY2s6Ly90cmFja2l6ZXIvLi9wdWJsaWMvc2NyaXB0L3ZpZXdzL3NlY3Rpb25zL2FwcFNlY3Rpb25WaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZWN0aW9uVmlldyBmcm9tIFwiLi9zZWN0aW9uVmlld1wiO1xyXG5cclxuY2xhc3MgQ2FsZW5kZXJWaWV3IGV4dGVuZHMgU2VjdGlvblZpZXcge31cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBDYWxlbmRlclZpZXcoKTtcclxuIiwiaW1wb3J0IGVycm9yVmlldyBmcm9tICcuLi92aWV3cy9kaWFsb2d1ZXMvZXJyb3JWaWV3JztcclxuaW1wb3J0IGFwcFNlY3Rpb25WaWV3IGZyb20gJy4uL3ZpZXdzL3NlY3Rpb25zL2FwcFNlY3Rpb25WaWV3JztcclxuaW1wb3J0IGJ1ZGdldFZpZXcgZnJvbSAnLi4vdmlld3Mvc2VjdGlvbnMvYnVkZ2V0Vmlldyc7XHJcbmltcG9ydCBjYWxlbmRlclZpZXcgZnJvbSAnLi4vdmlld3Mvc2VjdGlvbnMvY2FsZW5kZXJWaWV3JztcclxuaW1wb3J0IGNhcmRWaWV3IGZyb20gJy4uL3ZpZXdzL3NlY3Rpb25zL2NhcmRWaWV3JztcclxuaW1wb3J0IGRhc2hib2FyZFZpZXcgZnJvbSAnLi4vdmlld3Mvc2VjdGlvbnMvZGFzaGJvYXJkVmlldyc7XHJcbmNvbnN0IHsgY2hlY2tSb3V0ZUFjY2VzcywgY2hlY2tVcGRhdGVTdGF0ZSwgZ2V0VXBjb21naW5nQmlsbCB9ID1cclxuICBhd2FpdCBpbXBvcnQoJy4uL2hlbHBlcnMnKTtcclxuaW1wb3J0IHsgc3RhdGUgfSBmcm9tICcuLi9tb2RlbCc7XHJcbmltcG9ydCBhcHBWaWV3IGZyb20gJy4uL3ZpZXdzL2FwcFZpZXcnO1xyXG5cclxuY29uc3QgdXBkYXRlRGFzaGJvYXJkID0gYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGdldERCU3ViT3ZlcnZpZXcsIGdldFN1YnMgfSA9IGF3YWl0IGltcG9ydCgnLi4vbW9kZWwnKTtcclxuXHJcbiAgICAvL0dFVCBBTkQgVVBEQVRFIFRIRSBEQVNIQk9BUkQgU1VCU0NSSVBUSU9OUyBPVkVSVklFV1xyXG4gICAgaWYgKCFzdGF0ZS5zdWJzY3JpcHRpb25zPy5EQlN1Yk92ZXJ2aWV3KSBhd2FpdCBnZXREQlN1Yk92ZXJ2aWV3KCk7XHJcbiAgICBkYXNoYm9hcmRWaWV3LnVwZGF0ZU92ZXJ2aWV3KHN0YXRlLnN1YnNjcmlwdGlvbnM/LkRCU3ViT3ZlcnZpZXcpO1xyXG5cclxuICAgIC8vR0VUIEFORCBVUERBVEUgVEhFIFNVQlNDUklQVElPTlxyXG4gICAgY29uc29sZS5sb2coc3RhdGU/LnN1YnNjcmlwdGlvbnM/LmFsbFN1YnMpO1xyXG4gICAgaWYgKCFzdGF0ZS5zdWJzY3JpcHRpb25zPy5hbGxTdWJzKSBhd2FpdCBnZXRTdWJzKCk7XHJcbiAgICBjb25zb2xlLmxvZyhzdGF0ZT8uc3Vic2NyaXB0aW9ucz8uYWxsU3Vicyk7XHJcbiAgICBkYXNoYm9hcmRWaWV3LnVwZGF0ZVN1YihzdGF0ZS5zdWJzY3JpcHRpb25zPy5hbGxTdWJzKTtcclxuXHJcbiAgICAvLyBHRVQgQU5EIFVQREFURSBVUENPTUlORyBTVUJTQ1JJUFRJT05TXHJcbiAgICBjb25zdCB1cGNvbWluZ0JpbGxzID0gYXdhaXQgZ2V0VXBjb21naW5nQmlsbChcclxuICAgICAgc3RhdGUuc3Vic2NyaXB0aW9ucz8uYWxsU3Vic1xyXG4gICAgKTtcclxuICAgIGRhc2hib2FyZFZpZXcudXBkYXRlQmlsbHModXBjb21pbmdCaWxscyk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgZXJyb3JWaWV3LnJlbmRlckVycm9yKGVycik7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyRGFzaGJvYXJkID0gYXN5bmMgZnVuY3Rpb24gKHJvdXRlKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNoZWNrVXBkYXRlU3RhdGUocm91dGUsIHt9KTtcclxuICAgIGF3YWl0IGRhc2hib2FyZFZpZXcucmVuZGVyU2VjdGlvbihyb3V0ZSk7XHJcblxyXG4gICAgLy9VUERBVEUgU1VCU0NSSVBUSU9OIEFORCBVUENPTUlORyBCSUxMU1xyXG4gICAgYXdhaXQgdXBkYXRlRGFzaGJvYXJkKCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGVycm9yVmlldy5yZW5kZXJFcnJvcihlcnIpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZURhc2hib2FyZENsaWNrID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gIGRhc2hib2FyZFZpZXcudG9nZ2xlU3ViQmlsbExpc3QodGFyZ2V0KTtcclxufTtcclxuXHJcbmNvbnN0IHVwZGF0ZUJ1ZGdldCA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBnZXRDYXRzLCBnZXREQlN1Yk92ZXJ2aWV3IH0gPSBhd2FpdCBpbXBvcnQoJy4uL21vZGVsJyk7XHJcblxyXG4gICAgLy9HRVQgQU5EIFVQREFURSBUSEUgREFTSEJPQVJEIFNVQlNDUklQVElPTlMgVE9UQUwgRkVFXHJcbiAgICBjb25zb2xlLmxvZyhzdGF0ZS51c2VyKTtcclxuICAgIGlmICghc3RhdGUuc3Vic2NyaXB0aW9ucz8uREJTdWJPdmVydmlldykgYXdhaXQgZ2V0REJTdWJPdmVydmlldygpO1xyXG4gICAgYnVkZ2V0Vmlldy51cGRhdGVPdmVydmlldyhcclxuICAgICAgc3RhdGUuc3Vic2NyaXB0aW9ucz8uREJTdWJPdmVydmlldz8uYmlsbGVkQW10LFxyXG4gICAgICBzdGF0ZS51c2VyPy5zZXR0aW5ncz8uYnVkZ2V0XHJcbiAgICApO1xyXG5cclxuICAgIC8vUkVOREVSIENBVEVHT1JZIExJU1RTXHJcbiAgICBpZiAoIXN0YXRlLnN1YnNjcmlwdGlvbnM/LmNhdGVnb3J5KSBhd2FpdCBnZXRDYXRzKCk7XHJcblxyXG4gICAgYnVkZ2V0Vmlldy5yZW5kZXJBbGxDYXRlZ29yeShzdGF0ZS5zdWJzY3JpcHRpb25zPy5jYXRlZ29yeSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgZXJyb3JWaWV3LnJlbmRlckVycm9yKGVycik7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyQnVnZGV0ID0gYXN5bmMgZnVuY3Rpb24gKHJvdXRlKSB7XHJcbiAgY2hlY2tVcGRhdGVTdGF0ZShyb3V0ZSwge1xyXG4gICAgLy8gc2VjdGlvbkxpbms6IC9kYXNoYm9hcmQsXHJcbiAgfSk7XHJcbiAgYXdhaXQgYnVkZ2V0Vmlldy5yZW5kZXJTZWN0aW9uKHJvdXRlKTtcclxuXHJcbiAgYXdhaXQgdXBkYXRlQnVkZ2V0KCk7XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJDYWxlbmRlciA9IGZ1bmN0aW9uIChyb3V0ZSkge1xyXG4gIGNoZWNrVXBkYXRlU3RhdGUocm91dGUsIHt9KTtcclxuICBjYWxlbmRlclZpZXcucmVuZGVyU2VjdGlvbihyb3V0ZSk7XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJDYXJkID0gZnVuY3Rpb24gKHJvdXRlKSB7XHJcbiAgY2hlY2tVcGRhdGVTdGF0ZShyb3V0ZSwge30pO1xyXG4gIGNhcmRWaWV3LnJlbmRlclNlY3Rpb24ocm91dGUpO1xyXG59O1xyXG5cclxuLy9IQU5ETEUgU0VDVElPTiBST1VURVNcclxuZXhwb3J0IGNvbnN0IGNvbnRyb2xTZWN0aW9uUm91dGUgPSBhc3luYyBmdW5jdGlvbiAoc3RhdGUsIHJvdXRlKSB7XHJcbiAgLy9jaGVjayBpZiB1c2VyIGNhbiBhY2Nlc3MgdGhlIHBhZ2VcclxuICBhd2FpdCBjaGVja1JvdXRlQWNjZXNzKHN0YXRlLCByb3V0ZSk7XHJcblxyXG4gIGlmIChzdGF0ZS5jdXJyZW50Um91dGUgPT09IHJvdXRlKSByZXR1cm47XHJcblxyXG4gICFzdGF0ZS5zZWN0aW9uLmlzUGFyZW50Q3JlYXRlZCAmJlxyXG4gICAgKGF3YWl0IGFwcFNlY3Rpb25WaWV3LnJlbmRlckNvbnRhaW5lckVsbSgpKTtcclxuXHJcbiAgcm91dGUgPT09ICcvZGFzaGJvYXJkJyAmJiByZW5kZXJEYXNoYm9hcmQocm91dGUpO1xyXG4gIHJvdXRlID09PSAnL2J1ZGdldCcgJiYgcmVuZGVyQnVnZGV0KHJvdXRlKTtcclxuICByb3V0ZSA9PT0gJy9jYWxlbmRlcicgJiYgcmVuZGVyQ2FsZW5kZXIocm91dGUpO1xyXG4gIHJvdXRlID09PSAnL2NhcmQnICYmIHJlbmRlckNhcmQocm91dGUpO1xyXG5cclxuICBzdGF0ZS5jdXJyZW50Um91dGUgPSByb3V0ZTtcclxuICBzdGF0ZS5zZWN0aW9uLmlzUGFyZW50Q3JlYXRlZCA9IHRydWU7XHJcbiAgYXBwU2VjdGlvblZpZXcuYWRkQWN0aXZlTGluayhyb3V0ZSk7XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJTdWJEZXRhaWxzID0gYXN5bmMgZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gIGNvbnN0IHsgZ2V0U3ViRGV0YWlscyB9ID0gYXdhaXQgaW1wb3J0KCcuLi9tb2RlbCcpO1xyXG5cclxuICBjb25zb2xlLmxvZyh0YXJnZXQsIHRhcmdldC5jbG9zZXN0KCcuc3ViLWl0ZW0nKSk7XHJcbiAgY29uc3QgaWQgPSB0YXJnZXQuY2xvc2VzdCgnLnN1Yi1pdGVtJykuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XHJcbiAgYXdhaXQgZ2V0U3ViRGV0YWlscyhpZCk7XHJcbiAgYXBwVmlldy5yZW5kZXJTdWJEZXRhaWxzKHN0YXRlLnN1YnNjcmlwdGlvbnMuc3ViRGV0YWlscyk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY29udHJvbFNlY3Rpb25DbGljayA9IGFzeW5jIGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5kYXNoYm9hcmQnKSkge1xyXG4gICAgaGFuZGxlRGFzaGJvYXJkQ2xpY2sodGFyZ2V0KTtcclxuICB9XHJcbiAgLy9TVUJTQ1JJUFRJT04gSVRFTSBDTElDS1xyXG4gIGlmIChcclxuICAgIHRhcmdldC5jbG9zZXN0KCcuc3ViLWl0ZW0nKSAmJlxyXG4gICAgIXRhcmdldC5jbG9zZXN0KCcuYnRuX19zZWxlY3QtY2F0ZWdvcnknKSAmXHJcbiAgICAgICF0YXJnZXQuY2xvc2VzdCgnLmNhdGVnb3J5LWRyb3Bkb3duJylcclxuICApXHJcbiAgICByZW5kZXJTdWJEZXRhaWxzKHRhcmdldCk7XHJcblxyXG4gIGlmICh0YXJnZXQuY2xvc2VzdCgnLmJ0bl9fc2VsZWN0LWNhdGVnb3J5JykpIHtcclxuICAgIGNvbnN0IHsgZ2V0Q2F0cyB9ID0gYXdhaXQgaW1wb3J0KCcuLi9tb2RlbCcpO1xyXG4gICAgYXdhaXQgZ2V0Q2F0cygpO1xyXG5cclxuICAgIGFwcFZpZXcucmVuZGVyQ2F0ZWdvcnlEcm9wZG93bihzdGF0ZS5zdWJzY3JpcHRpb25zLmNhdGVnb3J5KTtcclxuICB9XHJcblxyXG4gIC8vU1VCU0NSSVBUSU9OIEFERCBORVcgQ0FURUdPUllcclxufTtcclxuIiwiaW1wb3J0IFNlY3Rpb25WaWV3IGZyb20gXCIuL3NlY3Rpb25WaWV3XCI7XHJcblxyXG5jbGFzcyBDYXJkVmlldyBleHRlbmRzIFNlY3Rpb25WaWV3IHt9XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQ2FyZFZpZXcoKTtcclxuIiwiaW1wb3J0IFNlY3Rpb25WaWV3IGZyb20gXCIuL3NlY3Rpb25WaWV3XCI7XHJcblxyXG4vL0ZvciBmdW5jdGlvbiBcImNhbGxcIiB0aGF0IGlzIHJlbGF0ZWQgdG8gYWxsIHNlY3Rpb25zXHJcbmNsYXNzIEFwcFNlY3Rpb25WaWV3IGV4dGVuZHMgU2VjdGlvblZpZXcge1xyXG4gIGFkZEFjdGl2ZUxpbmsocm91dGUgPSBsb2NhdGlvbi5wYXRobmFtZSkge1xyXG4gICAgdGhpcy5hcHAucXVlcnlTZWxlY3RvckFsbChcIi5uYXYtbGlua1wiKS5mb3JFYWNoKChlbG0pID0+IHtcclxuICAgICAgaWYgKGVsbS5xdWVyeVNlbGVjdG9yKFwicGF0aFwiKSAhPT0gbnVsbCkge1xyXG4gICAgICAgIGVsbS5xdWVyeVNlbGVjdG9yKFwicGF0aFwiKS5zdHlsZS5maWxsID0gXCIjQTJBMkI1XCI7XHJcbiAgICAgICAgaWYgKHRoaXMuYXBwLnF1ZXJ5U2VsZWN0b3IoYFtocmVmPVwiJHtyb3V0ZX1cIl1gKS5xdWVyeVNlbGVjdG9yKFwicGF0aFwiKSkge1xyXG4gICAgICAgICAgdGhpcy5hcHBcclxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoYFtocmVmPVwiJHtyb3V0ZX1cIl1gKVxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcihcInBhdGhcIikuc3R5bGUuZmlsbCA9IFwid2hpdGVcIjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IEFwcFNlY3Rpb25WaWV3KCk7XHJcbiJdLCJuYW1lcyI6WyJDYWxlbmRlclZpZXciLCJjaGVja1JvdXRlQWNjZXNzIiwiY2hlY2tVcGRhdGVTdGF0ZSIsImdldFVwY29tZ2luZ0JpbGwiLCJ1cGRhdGVEYXNoYm9hcmQiLCJhc3luYyIsImdldERCU3ViT3ZlcnZpZXciLCJnZXRTdWJzIiwic3RhdGUiLCJzdWJzY3JpcHRpb25zIiwiREJTdWJPdmVydmlldyIsInVwZGF0ZU92ZXJ2aWV3IiwiY29uc29sZSIsImxvZyIsImFsbFN1YnMiLCJ1cGRhdGVTdWIiLCJ1cGNvbWluZ0JpbGxzIiwidXBkYXRlQmlsbHMiLCJlcnIiLCJyZW5kZXJFcnJvciIsInJlbmRlckRhc2hib2FyZCIsInJvdXRlIiwicmVuZGVyU2VjdGlvbiIsImVycm9yIiwiaGFuZGxlRGFzaGJvYXJkQ2xpY2siLCJ0YXJnZXQiLCJ0b2dnbGVTdWJCaWxsTGlzdCIsInVwZGF0ZUJ1ZGdldCIsImdldENhdHMiLCJ1c2VyIiwiYmlsbGVkQW10Iiwic2V0dGluZ3MiLCJidWRnZXQiLCJjYXRlZ29yeSIsInJlbmRlckFsbENhdGVnb3J5IiwicmVuZGVyQnVnZGV0IiwicmVuZGVyQ2FsZW5kZXIiLCJyZW5kZXJDYXJkIiwiY29udHJvbFNlY3Rpb25Sb3V0ZSIsImN1cnJlbnRSb3V0ZSIsInNlY3Rpb24iLCJpc1BhcmVudENyZWF0ZWQiLCJyZW5kZXJDb250YWluZXJFbG0iLCJhZGRBY3RpdmVMaW5rIiwicmVuZGVyU3ViRGV0YWlscyIsImdldFN1YkRldGFpbHMiLCJjbG9zZXN0IiwiaWQiLCJnZXRBdHRyaWJ1dGUiLCJzdWJEZXRhaWxzIiwiY29udHJvbFNlY3Rpb25DbGljayIsInJlbmRlckNhdGVnb3J5RHJvcGRvd24iLCJDYXJkVmlldyIsIkFwcFNlY3Rpb25WaWV3IiwibG9jYXRpb24iLCJwYXRobmFtZSIsInRoaXMiLCJhcHAiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsbSIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImZpbGwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==